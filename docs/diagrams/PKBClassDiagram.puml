@startuml

class SP
class QPS
class PKB

abstract class PopulatePKB {
	void populate(Abstraction)
}

abstract class QueryPKB {
	Results query(Query)
}

abstract class "EntityManager"
abstract class "AbstractionManager"
abstract class "PatternManager"

abstract class "SIMPLEAbstraction"
abstract class "SIMPLEEntity"
abstract class "QueryPattern"

class VariableEntity {
	variableTable
}

class ReadEntity {
	readTable
}

class PrintEntity {
	printTable
}

class CallEntity {
	callTable
}

class IfEntity {
	ifTable
}

class WhileEntity {
	whileTable
}


class ConstantEntity {
	constantTable
}


class ProcedureEntity {
	procedureTable
}

class AssignEntity {
	assignTable
}

 class Pattern {
	patternTable
}

class Modifies {
	modifiesTable
}

class Follows {
	followsTable
}

class FollowsT{
	followsTTable
}

class Uses { 
	usesTable
}

class Parent{
	parentTable
}

class ParentT{
	parentTTable
}


PKB *-down- PopulatePKB
PKB *-down- QueryPKB
SP -down- PopulatePKB
QPS -down- QueryPKB

PopulatePKB <|.down. EntityManager
QueryPKB <|.down. EntityManager

PopulatePKB <|.down.  PatternManager
QueryPKB <|.down. PatternManager

PopulatePKB <|.down.  AbstractionManager
QueryPKB <|.down. AbstractionManager

VariableEntity  -up-* EntityManager
ReadEntity  -up-* EntityManager
PrintEntity  -up-* EntityManager
CallEntity  -up-* EntityManager
IfEntity  -up-* EntityManager
WhileEntity  -up-* EntityManager
ConstantEntity  -up-* EntityManager
ProcedureEntity  -up-* EntityManager
AssignEntity  -up-* EntityManager

VariableEntity -down-|> SIMPLEEntity
ReadEntity -down-|> SIMPLEEntity
PrintEntity -down-|> SIMPLEEntity
CallEntity -down-|> SIMPLEEntity
IfEntity -down-|> SIMPLEEntity
WhileEntity -down-|> SIMPLEEntity
ConstantEntity -down-|> SIMPLEEntity
ProcedureEntity -down-|> SIMPLEEntity
AssignEntity -down-|> SIMPLEEntity

Modifies -up-* AbstractionManager
Follows -up-* AbstractionManager
FollowsT -up-* AbstractionManager
Uses -up-* AbstractionManager
Parent -up-* AbstractionManager
ParentT -up-* AbstractionManager

Modifies -down-|> SIMPLEAbstraction
Follows -down-|> SIMPLEAbstraction
FollowsT -down-|> SIMPLEAbstraction
Uses -down-|> SIMPLEAbstraction
Parent -down-|> SIMPLEAbstraction
ParentT -down-|> SIMPLEAbstraction

Pattern -up-* PatternManager
Pattern -down-|> QueryPattern

@enduml

