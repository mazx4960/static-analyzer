<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="938px" preserveAspectRatio="none" style="width:1017px;height:938px;background:#FFFFFF;" version="1.1" viewBox="0 0 1017 938" width="1017px" zoomAndPan="magnify"><defs/><g><!--MD5=[d71d1ab749f02987107a92bcb0388bfb]
class SP--><g id="elem_SP"><rect codeLine="3" fill="#F1F1F1" height="48" id="SP" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="48" x="340.5" y="7"/><ellipse cx="355.5" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M357.9731,29.1431 Q357.3921,29.4419 356.7529,29.5913 Q356.1138,29.7407 355.4082,29.7407 Q352.9014,29.7407 351.5815,28.0889 Q350.2617,26.437 350.2617,23.3159 Q350.2617,20.1865 351.5815,18.5347 Q352.9014,16.8828 355.4082,16.8828 Q356.1138,16.8828 356.7612,17.0322 Q357.4087,17.1816 357.9731,17.4805 L357.9731,20.2031 Q357.3423,19.6221 356.7488,19.3523 Q356.1553,19.0825 355.5244,19.0825 Q354.1797,19.0825 353.4949,20.1492 Q352.8101,21.2158 352.8101,23.3159 Q352.8101,25.4077 353.4949,26.4744 Q354.1797,27.541 355.5244,27.541 Q356.1553,27.541 356.7488,27.2712 Q357.3423,27.0015 357.9731,26.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="16" x="369.5" y="28.291">SP</text><line style="stroke:#181818;stroke-width:0.5;" x1="341.5" x2="387.5" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="341.5" x2="387.5" y1="47" y2="47"/></g><!--MD5=[ae088927e5dda082715dd85725f1773d]
class QPS--><g id="elem_QPS"><rect codeLine="4" fill="#F1F1F1" height="48" id="QPS" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="59" x="641" y="7"/><ellipse cx="656" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M658.4731,29.1431 Q657.8921,29.4419 657.2529,29.5913 Q656.6138,29.7407 655.9082,29.7407 Q653.4014,29.7407 652.0815,28.0889 Q650.7617,26.437 650.7617,23.3159 Q650.7617,20.1865 652.0815,18.5347 Q653.4014,16.8828 655.9082,16.8828 Q656.6138,16.8828 657.2612,17.0322 Q657.9087,17.1816 658.4731,17.4805 L658.4731,20.2031 Q657.8423,19.6221 657.2488,19.3523 Q656.6553,19.0825 656.0244,19.0825 Q654.6797,19.0825 653.9949,20.1492 Q653.3101,21.2158 653.3101,23.3159 Q653.3101,25.4077 653.9949,26.4744 Q654.6797,27.541 656.0244,27.541 Q656.6553,27.541 657.2488,27.2712 Q657.8423,27.0015 658.4731,26.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="670" y="28.291">QPS</text><line style="stroke:#181818;stroke-width:0.5;" x1="642" x2="699" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="642" x2="699" y1="47" y2="47"/></g><!--MD5=[3856f6c812e91a5d8d80be3a4907ff07]
class PKB--><g id="elem_PKB"><rect codeLine="21" fill="#F1F1F1" height="179.9063" id="PKB" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="464" x="285.5" y="305"/><ellipse cx="500.75" cy="321" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M503.2231,327.1431 Q502.6421,327.4419 502.0029,327.5913 Q501.3638,327.7407 500.6582,327.7407 Q498.1514,327.7407 496.8315,326.0889 Q495.5117,324.437 495.5117,321.3159 Q495.5117,318.1865 496.8315,316.5347 Q498.1514,314.8828 500.6582,314.8828 Q501.3638,314.8828 502.0112,315.0322 Q502.6587,315.1816 503.2231,315.4805 L503.2231,318.2031 Q502.5923,317.6221 501.9988,317.3523 Q501.4053,317.0825 500.7744,317.0825 Q499.4297,317.0825 498.7449,318.1492 Q498.0601,319.2158 498.0601,321.3159 Q498.0601,323.4077 498.7449,324.4744 Q499.4297,325.541 500.7744,325.541 Q501.4053,325.541 501.9988,325.2712 Q502.5923,325.0015 503.2231,324.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25" x="521.25" y="326.291">PKB</text><line style="stroke:#181818;stroke-width:0.5;" x1="286.5" x2="748.5" y1="337" y2="337"/><line style="stroke:#181818;stroke-width:0.5;" x1="286.5" x2="748.5" y1="345" y2="345"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="291.5" y="362.5352">void populate(Entity[])</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="291.5" y="379.0234">void populate(Relationship[])</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="291.5" y="395.5117">void populate(Pattern[])</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="339" x="291.5" y="412">EntityPointerUnorderedSet getEntities(EntityType)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="452" x="291.5" y="428.4883">EntityPointerUnorderedSet getByRelationship(RsType, Entity, bool)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="408" x="291.5" y="444.9766">EntityPointerUnorderedSet getByPattern(Entity, String, bool)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="309" x="291.5" y="461.4648">EntityPointerUnorderedSet getEntities(String)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="263" x="291.5" y="477.9531">Map&lt;EntityType, int&gt; getSimpleStats()</text></g><!--MD5=[72fafe39a0b4fbb863f0a243b20773f7]
class IPKBPopulator--><g id="elem_IPKBPopulator"><rect codeLine="7" fill="#F1F1F1" height="97.4648" id="IPKBPopulator" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="211" x="259" y="131.5"/><ellipse cx="312.25" cy="147.5" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M308.6777,143.7651 L308.6777,141.6069 L316.0571,141.6069 L316.0571,143.7651 L313.5918,143.7651 L313.5918,151.8418 L316.0571,151.8418 L316.0571,154 L308.6777,154 L308.6777,151.8418 L311.1431,151.8418 L311.1431,143.7651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="96" x="332.75" y="152.791">IPKBPopulator</text><line style="stroke:#181818;stroke-width:0.5;" x1="260" x2="469" y1="163.5" y2="163.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="260" x2="469" y1="171.5" y2="171.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="265" y="189.0352">void populate(Entity[])</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="265" y="205.5234">void populate(Relationship[])</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163" x="265" y="222.0117">void populate(Pattern[])</text></g><!--MD5=[4fa2d5ce616373be846ec9cee428e8de]
class IPKBQuerier--><g id="elem_IPKBQuerier"><rect codeLine="13" fill="#F1F1F1" height="130.4414" id="IPKBQuerier" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="330" x="505.5" y="115"/><ellipse cx="625.75" cy="131" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M622.1777,127.2651 L622.1777,125.1069 L629.5571,125.1069 L629.5571,127.2651 L627.0918,127.2651 L627.0918,135.3418 L629.5571,135.3418 L629.5571,137.5 L622.1777,137.5 L622.1777,135.3418 L624.6431,135.3418 L624.6431,127.2651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="81" x="646.25" y="136.291">IPKBQuerier</text><line style="stroke:#181818;stroke-width:0.5;" x1="506.5" x2="834.5" y1="147" y2="147"/><line style="stroke:#181818;stroke-width:0.5;" x1="506.5" x2="834.5" y1="155" y2="155"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205" x="511.5" y="172.5352">Entity[] getEntities(EntityType)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="318" x="511.5" y="189.0234">Entity[] getByRelationship(RsType, Entity, bool)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274" x="511.5" y="205.5117">Entity[] getByPattern(Entity, String, bool)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="511.5" y="222">Entity[] getEntities(String)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="263" x="511.5" y="238.4883">Map&lt;EntityType, int&gt; getSimpleStats()</text></g><!--MD5=[50f223dc1404568940f50a1eaf520228]
class EntityManager--><g id="elem_EntityManager"><rect codeLine="32" fill="#F1F1F1" height="130.4414" id="EntityManager" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="234" x="772.5" y="553.5"/><ellipse cx="836.25" cy="569.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M838.7231,575.6431 Q838.1421,575.9419 837.5029,576.0913 Q836.8638,576.2407 836.1582,576.2407 Q833.6514,576.2407 832.3315,574.5889 Q831.0117,572.937 831.0117,569.8159 Q831.0117,566.6865 832.3315,565.0347 Q833.6514,563.3828 836.1582,563.3828 Q836.8638,563.3828 837.5112,563.5322 Q838.1587,563.6816 838.7231,563.9805 L838.7231,566.7031 Q838.0923,566.1221 837.4988,565.8523 Q836.9053,565.5825 836.2744,565.5825 Q834.9297,565.5825 834.2449,566.6492 Q833.5601,567.7158 833.5601,569.8159 Q833.5601,571.9077 834.2449,572.9744 Q834.9297,574.041 836.2744,574.041 Q836.9053,574.041 837.4988,573.7712 Q838.0923,573.5015 838.7231,572.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="856.75" y="574.791">EntityManager</text><line style="stroke:#181818;stroke-width:0.5;" x1="773.5" x2="1005.5" y1="585.5" y2="585.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="773.5" x2="1005.5" y1="593.5" y2="593.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222" x="778.5" y="611.0352">EntityTable GetTable(EntityType)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218" x="778.5" y="627.5234">void Populate(Vector&lt;Entity *&gt;)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="778.5" y="644.0117">Entity[] Get(EntityType)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126" x="778.5" y="660.5">Entity[] Get(String)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185" x="778.5" y="676.9883">Map&lt;EntityType, int&gt; Get()</text></g><!--MD5=[e842e1dc6e292cf54a19d21b850fee95]
class RelationshipManager--><g id="elem_RelationshipManager"><rect codeLine="40" fill="#F1F1F1" height="146.9297" id="RelationshipManager" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="266" x="384.5" y="545"/><ellipse cx="440.75" cy="561" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M443.2231,567.1431 Q442.6421,567.4419 442.0029,567.5913 Q441.3638,567.7407 440.6582,567.7407 Q438.1514,567.7407 436.8315,566.0889 Q435.5117,564.437 435.5117,561.3159 Q435.5117,558.1865 436.8315,556.5347 Q438.1514,554.8828 440.6582,554.8828 Q441.3638,554.8828 442.0112,555.0322 Q442.6587,555.1816 443.2231,555.4805 L443.2231,558.2031 Q442.5923,557.6221 441.9988,557.3523 Q441.4053,557.0825 440.7744,557.0825 Q439.4297,557.0825 438.7449,558.1492 Q438.0601,559.2158 438.0601,561.3159 Q438.0601,563.4077 438.7449,564.4744 Q439.4297,565.541 440.7744,565.541 Q441.4053,565.541 441.9988,565.2712 Q442.5923,565.0015 443.2231,564.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="461.25" y="566.291">RelationshipManager</text><line style="stroke:#181818;stroke-width:0.5;" x1="385.5" x2="649.5" y1="577" y2="577"/><line style="stroke:#181818;stroke-width:0.5;" x1="385.5" x2="649.5" y1="585" y2="585"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="390.5" y="602.5352">void CreateTable(RsType)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="390.5" y="619.0234">void ClearCache()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198" x="390.5" y="635.5117">void Populate(Relationship[])</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="254" x="390.5" y="652">RelationshipTable* GetTable(RsType)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219" x="390.5" y="668.4883">Entity[] Get(RsType, Entity, bool)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="237" x="390.5" y="684.9766">Entity[] GetAll(RsType, Entity, bool)</text></g><!--MD5=[39b64e09ec1ed37e75b944bd9dd18e77]
class PatternManager--><g id="elem_PatternManager"><rect codeLine="49" fill="#F1F1F1" height="97.4648" id="PatternManager" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="223" x="102" y="570"/><ellipse cx="154.75" cy="586" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M157.2231,592.1431 Q156.6421,592.4419 156.0029,592.5913 Q155.3638,592.7407 154.6582,592.7407 Q152.1514,592.7407 150.8315,591.0889 Q149.5117,589.437 149.5117,586.3159 Q149.5117,583.1865 150.8315,581.5347 Q152.1514,579.8828 154.6582,579.8828 Q155.3638,579.8828 156.0112,580.0322 Q156.6587,580.1816 157.2231,580.4805 L157.2231,583.2031 Q156.5923,582.6221 155.9988,582.3523 Q155.4053,582.0825 154.7744,582.0825 Q153.4297,582.0825 152.7449,583.1492 Q152.0601,584.2158 152.0601,586.3159 Q152.0601,588.4077 152.7449,589.4744 Q153.4297,590.541 154.7744,590.541 Q155.4053,590.541 155.9988,590.2712 Q156.5923,590.0015 157.2231,589.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="175.25" y="591.291">PatternManager</text><line style="stroke:#181818;stroke-width:0.5;" x1="103" x2="324" y1="602" y2="602"/><line style="stroke:#181818;stroke-width:0.5;" x1="103" x2="324" y1="610" y2="610"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="108" y="627.5352">PatternTable GetTable()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="108" y="644.0234">void Populate(Pattern[])</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="211" x="108" y="660.5117">Entity[] Get(Entity, String, bool)</text></g><!--MD5=[cab01e77c9fcb0aa17bc5ff95fbb7aec]
class RelationshipTable--><g id="elem_RelationshipTable"><rect codeLine="55" fill="#F1F1F1" height="97.4648" id="RelationshipTable" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="308" x="319.5" y="793.5"/><ellipse cx="407.75" cy="809.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M410.2231,815.6431 Q409.6421,815.9419 409.0029,816.0913 Q408.3638,816.2407 407.6582,816.2407 Q405.1514,816.2407 403.8315,814.5889 Q402.5117,812.937 402.5117,809.8159 Q402.5117,806.6865 403.8315,805.0347 Q405.1514,803.3828 407.6582,803.3828 Q408.3638,803.3828 409.0112,803.5322 Q409.6587,803.6816 410.2231,803.9805 L410.2231,806.7031 Q409.5923,806.1221 408.9988,805.8523 Q408.4053,805.5825 407.7744,805.5825 Q406.4297,805.5825 405.7449,806.6492 Q405.0601,807.7158 405.0601,809.8159 Q405.0601,811.9077 405.7449,812.9744 Q406.4297,814.041 407.7744,814.041 Q408.4053,814.041 408.9988,813.7712 Q409.5923,813.5015 410.2231,812.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="428.25" y="814.791">RelationshipTable</text><line style="stroke:#181818;stroke-width:0.5;" x1="320.5" x2="626.5" y1="825.5" y2="825.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="320.5" x2="626.5" y1="833.5" y2="833.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="188" x="325.5" y="851.0352">void Populate(Relationship)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="296" x="325.5" y="867.5234">EntityPointerUnorderedMap GetTable(bool)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="162" x="325.5" y="884.0117">Entity[] Get(Entity, bool)</text></g><!--MD5=[764905ee1c3af85e03b62c9e097be8fb]
class EntityTable--><g id="elem_EntityTable"><rect codeLine="61" fill="#F1F1F1" height="80.9766" id="EntityTable" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="153" x="857" y="801.5"/><ellipse cx="892.25" cy="817.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M894.7231,823.6431 Q894.1421,823.9419 893.5029,824.0913 Q892.8638,824.2407 892.1582,824.2407 Q889.6514,824.2407 888.3315,822.5889 Q887.0117,820.937 887.0117,817.8159 Q887.0117,814.6865 888.3315,813.0347 Q889.6514,811.3828 892.1582,811.3828 Q892.8638,811.3828 893.5112,811.5322 Q894.1587,811.6816 894.7231,811.9805 L894.7231,814.7031 Q894.0923,814.1221 893.4988,813.8523 Q892.9053,813.5825 892.2744,813.5825 Q890.9297,813.5825 890.2449,814.6492 Q889.5601,815.7158 889.5601,817.8159 Q889.5601,819.9077 890.2449,820.9744 Q890.9297,822.041 892.2744,822.041 Q892.9053,822.041 893.4988,821.7712 Q894.0923,821.5015 894.7231,820.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="910.75" y="822.791">EntityTable</text><line style="stroke:#181818;stroke-width:0.5;" x1="858" x2="1009" y1="833.5" y2="833.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="858" x2="1009" y1="841.5" y2="841.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141" x="863" y="859.0352">void Populate(Entity)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="85" x="863" y="875.5234">Entity[] Get()</text></g><!--MD5=[26dfeeed19066fd0891476493fdb3b5f]
class PatternTable--><g id="elem_PatternTable"><rect codeLine="66" fill="#F1F1F1" height="97.4648" id="PatternTable" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="277" x="7" y="793.5"/><ellipse cx="97.75" cy="809.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M100.2231,815.6431 Q99.6421,815.9419 99.0029,816.0913 Q98.3638,816.2407 97.6582,816.2407 Q95.1514,816.2407 93.8315,814.5889 Q92.5117,812.937 92.5117,809.8159 Q92.5117,806.6865 93.8315,805.0347 Q95.1514,803.3828 97.6582,803.3828 Q98.3638,803.3828 99.0112,803.5322 Q99.6587,803.6816 100.2231,803.9805 L100.2231,806.7031 Q99.5923,806.1221 98.9988,805.8523 Q98.4053,805.5825 97.7744,805.5825 Q96.4297,805.5825 95.7449,806.6492 Q95.0601,807.7158 95.0601,809.8159 Q95.0601,811.9077 95.7449,812.9744 Q96.4297,814.041 97.7744,814.041 Q98.4053,814.041 98.9988,813.7712 Q99.5923,813.5015 100.2231,812.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="118.25" y="814.791">PatternTable</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="283" y1="825.5" y2="825.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="283" y1="833.5" y2="833.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152" x="13" y="851.0352">void Populate(Pattern)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="265" x="13" y="867.5234">PatternEntityUnorderedMap GetTable()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123" x="13" y="884.0117">Entity[] Get(Entity)</text></g><!--MD5=[cf7212f148c2a2f46c357ea31d18a0ad]
class Cache--><g id="elem_Cache"><rect codeLine="72" fill="#F1F1F1" height="179.9063" id="Cache" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="159" x="663" y="752"/><ellipse cx="717.25" cy="768" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M719.7231,774.1431 Q719.1421,774.4419 718.5029,774.5913 Q717.8638,774.7407 717.1582,774.7407 Q714.6514,774.7407 713.3315,773.0889 Q712.0117,771.437 712.0117,768.3159 Q712.0117,765.1865 713.3315,763.5347 Q714.6514,761.8828 717.1582,761.8828 Q717.8638,761.8828 718.5112,762.0322 Q719.1587,762.1816 719.7231,762.4805 L719.7231,765.2031 Q719.0923,764.6221 718.4988,764.3523 Q717.9053,764.0825 717.2744,764.0825 Q715.9297,764.0825 715.2449,765.1492 Q714.5601,766.2158 714.5601,768.3159 Q714.5601,770.4077 715.2449,771.4744 Q715.9297,772.541 717.2744,772.541 Q717.9053,772.541 718.4988,772.2712 Q719.0923,772.0015 719.7231,771.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="737.75" y="773.291">Cache</text><line style="stroke:#181818;stroke-width:0.5;" x1="664" x2="821" y1="784" y2="784"/><line style="stroke:#181818;stroke-width:0.5;" x1="664" x2="821" y1="792" y2="792"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="669" y="809.5352">void UpdateAccess(K)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="669" y="826.0234">void Evict()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="669" y="842.5117">void Add(K, V)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="669" y="859">Result Get(K)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="669" y="875.4883">void Clear()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="669" y="891.9766">int Size()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="669" y="908.4648">int Hits()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="669" y="924.9531">int Misses()</text></g><!--MD5=[93052fc470d0028e6689ff87391ecfca]
reverse link IPKBPopulator to PKB--><g id="link_IPKBPopulator_PKB"><path codeLine="84" d="M411.33,246.2 C424.62,264.7 439.33,285.17 453.45,304.83 " fill="none" id="IPKBPopulator-backto-PKB" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="405.7,250.36,399.72,230.03,417.07,242.19,405.7,250.36" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[0b73f6a2d6ef590f689c85ee51eaca50]
reverse link IPKBQuerier to PKB--><g id="link_IPKBQuerier_PKB"><path codeLine="85" d="M611.94,262.53 C602.06,276.29 591.75,290.64 581.73,304.58 " fill="none" id="IPKBQuerier-backto-PKB" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="605.94,258.87,623.3,246.71,617.31,267.04,605.94,258.87" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[7c17051468ef2dfc7320e5ca5db22e6e]
link SP to IPKBPopulator--><g id="link_SP_IPKBPopulator"><path codeLine="86" d="M364.5,55.29 C364.5,75.61 364.5,105.74 364.5,131.18 " fill="none" id="SP-IPKBPopulator" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[2937d1df04a90f97171c674f9014653b]
link QPS to IPKBQuerier--><g id="link_QPS_IPKBQuerier"><path codeLine="87" d="M670.5,55.29 C670.5,71.32 670.5,93.45 670.5,114.57 " fill="none" id="QPS-IPKBQuerier" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a20e8c555ac220316d28647efa9f0c12]
reverse link PKB to EntityManager--><g id="link_PKB_EntityManager"><path codeLine="89" d="M679.82,492.65 C714.15,513.09 749.57,534.18 781.3,553.08 " fill="none" id="PKB-backto-EntityManager" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="669.03,486.23,672.1427,492.7347,679.3443,492.3632,676.2315,485.8585,669.03,486.23" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[faa6112568974c8b35a1e6db989960c2]
reverse link PKB to PatternManager--><g id="link_PKB_PatternManager"><path codeLine="90" d="M383.07,493.95 C347,520.23 309.59,547.49 279.11,569.69 " fill="none" id="PKB-backto-PatternManager" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="393.5,486.35,386.2951,486.6487,383.7997,493.4143,391.0046,493.1156,393.5,486.35" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[f3fe36a3b0ed2e556aead0ac2df1154b]
reverse link PKB to RelationshipManager--><g id="link_PKB_RelationshipManager"><path codeLine="91" d="M517.5,499.89 C517.5,515.04 517.5,530.36 517.5,544.71 " fill="none" id="PKB-backto-RelationshipManager" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="517.5,486.97,513.5,492.97,517.5,498.97,521.5,492.97,517.5,486.97" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[16dc30855eb5f6ab4dee875ede611cf6]
reverse link EntityManager to EntityTable--><g id="link_EntityManager_EntityTable"><path codeLine="93" d="M905.09,697.99 C912.03,732.93 919.9,772.55 925.6,801.21 " fill="none" id="EntityManager-backto-EntityTable" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="902.58,685.35,899.8301,692.0162,904.9258,697.1185,907.6757,690.4523,902.58,685.35" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[fb63e50faf1caae59c02a976e1d2e7a2]
reverse link RelationshipManager to RelationshipTable--><g id="link_RelationshipManager_RelationshipTable"><path codeLine="96" d="M500.28,706.19 C494.4,735.81 488.03,767.84 482.99,793.25 " fill="none" id="RelationshipManager-backto-RelationshipTable" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="502.74,693.82,497.6443,698.9223,500.3942,705.5885,505.4899,700.4862,502.74,693.82" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[8d5dd169911240efc567a96fd03944aa]
reverse link PatternManager to PatternTable--><g id="link_PatternManager_PatternTable"><path codeLine="98" d="M194.64,680.93 C183.74,716.43 170.24,760.42 160.14,793.3 " fill="none" id="PatternManager-backto-PatternTable" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="198.38,668.74,192.7957,673.3024,194.8593,680.2119,200.4436,675.6495,198.38,668.74" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[7d08655b5f2355828535fb6fa37f308b]
reverse link RelationshipManager to Cache--><g id="link_RelationshipManager_Cache"><path codeLine="100" d="M601.78,702.47 C621.72,722.1 642.92,742.97 662.66,762.4 " fill="none" id="RelationshipManager-backto-Cache" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="592.56,693.4,594.0346,700.4587,601.1175,701.8125,599.6429,694.7537,592.56,693.4" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[6209fa02edcabbbe663f57efdfe646eb]
@startuml
skinparam classAttributeIconSize 0

class SP
class QPS
class PKB

interface IPKBPopulator {
	void populate(Entity[])
    void populate(Relationship[])
    void populate(Pattern[])
}

interface IPKBQuerier {
	Entity[] getEntities(EntityType)
	Entity[] getByRelationship(RsType, Entity, bool)
	Entity[] getByPattern(Entity, String, bool)
	Entity[] getEntities(String)
	Map<EntityType, int> getSimpleStats()
}

class PKB {
	void populate(Entity[])
    void populate(Relationship[])
    void populate(Pattern[])
	EntityPointerUnorderedSet getEntities(EntityType)
	EntityPointerUnorderedSet getByRelationship(RsType, Entity, bool)
	EntityPointerUnorderedSet getByPattern(Entity, String, bool)
	EntityPointerUnorderedSet getEntities(String)
	Map<EntityType, int> getSimpleStats()
}

class EntityManager {
    EntityTable GetTable(EntityType)
    void Populate(Vector<Entity *>)
    Entity[] Get(EntityType)
    Entity[] Get(String)
    Map<EntityType, int> Get()
}

class RelationshipManager {
    void CreateTable(RsType)
    void ClearCache()
    void Populate(Relationship[])
    RelationshipTable* GetTable(RsType)
    Entity[] Get(RsType, Entity, bool)
    Entity[] GetAll(RsType, Entity, bool)
}

class PatternManager {
    PatternTable GetTable()
    void Populate(Pattern[])
    Entity[] Get(Entity, String, bool)
}

class RelationshipTable {
    void Populate(Relationship)
    EntityPointerUnorderedMap GetTable(bool)
    Entity[] Get(Entity, bool)
}

class EntityTable {
    void Populate(Entity)
    Entity[] Get()
}

class PatternTable {
    void Populate(Pattern)
    PatternEntityUnorderedMap GetTable()
    Entity[] Get(Entity)
}

class Cache {
    void UpdateAccess(K)
    void Evict()
    void Add(K, V)
    Result Get(K)
    void Clear()
    int Size()
    int Hits()
    int Misses()
}


IPKBPopulator <|.down. PKB
IPKBQuerier <|.down. PKB
SP -down- IPKBPopulator
QPS -down- IPKBQuerier

PKB *-down- EntityManager
PKB *-down- PatternManager
PKB *-down- RelationshipManager

EntityTable -up-* EntityManager


RelationshipTable -up-* RelationshipManager

PatternTable -up-* PatternManager

RelationshipManager *-down- Cache

@enduml

PlantUML version 1.2022.12(Mon Oct 24 02:12:26 SGT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: US-ASCII
Language: en
Country: SG
--></g></svg>