<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="881px" preserveAspectRatio="none" style="width:1326px;height:881px;background:#FFFFFF;" version="1.1" viewBox="0 0 1326 881" width="1326px" zoomAndPan="magnify"><defs/><g><!--MD5=[4fa2d5ce616373be846ec9cee428e8de]
class IPKBQuerier--><g id="elem_IPKBQuerier"><rect codeLine="2" fill="#F1F1F1" height="97.4648" id="IPKBQuerier" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="291" x="395" y="115"/><ellipse cx="495.75" cy="131" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M492.1777,127.2651 L492.1777,125.1069 L499.5571,125.1069 L499.5571,127.2651 L497.0918,127.2651 L497.0918,135.3418 L499.5571,135.3418 L499.5571,137.5 L492.1777,137.5 L492.1777,135.3418 L494.6431,135.3418 L494.6431,127.2651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="81" x="516.25" y="136.291">IPKBQuerier</text><line style="stroke:#181818;stroke-width:0.5;" x1="396" x2="685" y1="147" y2="147"/><line style="stroke:#181818;stroke-width:0.5;" x1="396" x2="685" y1="155" y2="155"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205" x="401" y="172.5352">Entity[] getEntities(EntityType)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279" x="401" y="189.0234">Entity[] getByRelationship(RsType, Entity)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231" x="401" y="205.5117">Entity[] getEntitiesByString(String)</text></g><!--MD5=[ae088927e5dda082715dd85725f1773d]
class QPS--><g id="elem_QPS"><rect codeLine="8" fill="#F1F1F1" height="80.9766" id="QPS" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182" x="449.5" y="272"/><ellipse cx="522.75" cy="288" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M525.2231,294.1431 Q524.6421,294.4419 524.0029,294.5913 Q523.3638,294.7407 522.6582,294.7407 Q520.1514,294.7407 518.8315,293.0889 Q517.5117,291.437 517.5117,288.3159 Q517.5117,285.1865 518.8315,283.5347 Q520.1514,281.8828 522.6582,281.8828 Q523.3638,281.8828 524.0112,282.0322 Q524.6587,282.1816 525.2231,282.4805 L525.2231,285.2031 Q524.5923,284.6221 523.9988,284.3523 Q523.4053,284.0825 522.7744,284.0825 Q521.4297,284.0825 520.7449,285.1492 Q520.0601,286.2158 520.0601,288.3159 Q520.0601,290.4077 520.7449,291.4744 Q521.4297,292.541 522.7744,292.541 Q523.4053,292.541 523.9988,292.2712 Q524.5923,292.0015 525.2231,291.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="543.25" y="293.291">QPS</text><line style="stroke:#181818;stroke-width:0.5;" x1="450.5" x2="630.5" y1="304" y2="304"/><line style="stroke:#181818;stroke-width:0.5;" x1="450.5" x2="630.5" y1="312" y2="312"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="455.5" y="329.5352">void SetPKB(IPKBQuerier)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="455.5" y="346.0234">Result EvaluateQuery()</text></g><!--MD5=[d8c8cfd5ca149094f5b67f9f607a5ec7]
class Token--><g id="elem_Token"><rect codeLine="13" fill="#F1F1F1" height="80.9766" id="Token" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="7" y="446"/><ellipse cx="42.7" cy="462" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M42.5633,457.3481 L41.4095,462.4199 L43.7254,462.4199 Z M41.0691,455.1069 L44.0657,455.1069 L47.4109,467.5 L44.9622,467.5 L44.1985,464.437 L40.9197,464.437 L40.1727,467.5 L37.7239,467.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="43" x="61.3" y="467.291">Token</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="127" y1="478" y2="478"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="13" y="495.5352">TokenType type</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="13" y="512.0234">String value</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="127" y1="518.9766" y2="518.9766"/></g><!--MD5=[8ff175ab6a1849416c5f8a6c27b711a2]
class Lexer--><g id="elem_Lexer"><rect codeLine="18" fill="#F1F1F1" height="80.9766" id="Lexer" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="75.5" y="123"/><ellipse cx="114.8" cy="139" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M117.2731,145.1431 Q116.6921,145.4419 116.0529,145.5913 Q115.4138,145.7407 114.7082,145.7407 Q112.2014,145.7407 110.8815,144.0889 Q109.5617,142.437 109.5617,139.3159 Q109.5617,136.1865 110.8815,134.5347 Q112.2014,132.8828 114.7082,132.8828 Q115.4138,132.8828 116.0612,133.0322 Q116.7087,133.1816 117.2731,133.4805 L117.2731,136.2031 Q116.6423,135.6221 116.0488,135.3523 Q115.4553,135.0825 114.8244,135.0825 Q113.4797,135.0825 112.7949,136.1492 Q112.1101,137.2158 112.1101,139.3159 Q112.1101,141.4077 112.7949,142.4744 Q113.4797,143.541 114.8244,143.541 Q115.4553,143.541 116.0488,143.2712 Q116.6423,143.0015 117.2731,142.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="134.2" y="144.291">Lexer</text><line style="stroke:#181818;stroke-width:0.5;" x1="76.5" x2="198.5" y1="155" y2="155"/><line style="stroke:#181818;stroke-width:0.5;" x1="76.5" x2="198.5" y1="163" y2="163"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="81.5" y="180.5352">Token GetNext()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="81.5" y="197.0234">Token[] Lex()</text></g><!--MD5=[9d130455d6e3cc0bf117bee5d8e4fd40]
class QueryLexer--><g id="elem_QueryLexer"><rect codeLine="23" fill="#F1F1F1" height="48" id="QueryLexer" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="82" y="288.5"/><ellipse cx="97" cy="304.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M99.4731,310.6431 Q98.8921,310.9419 98.2529,311.0913 Q97.6138,311.2407 96.9082,311.2407 Q94.4014,311.2407 93.0815,309.5889 Q91.7617,307.937 91.7617,304.8159 Q91.7617,301.6865 93.0815,300.0347 Q94.4014,298.3828 96.9082,298.3828 Q97.6138,298.3828 98.2612,298.5322 Q98.9087,298.6816 99.4731,298.9805 L99.4731,301.7031 Q98.8423,301.1221 98.2488,300.8523 Q97.6553,300.5825 97.0244,300.5825 Q95.6797,300.5825 94.9949,301.6492 Q94.3101,302.7158 94.3101,304.8159 Q94.3101,306.9077 94.9949,307.9744 Q95.6797,309.041 97.0244,309.041 Q97.6553,309.041 98.2488,308.7712 Q98.8423,308.5015 99.4731,307.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="111" y="309.791">QueryLexer</text><line style="stroke:#181818;stroke-width:0.5;" x1="83" x2="192" y1="320.5" y2="320.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="83" x2="192" y1="328.5" y2="328.5"/></g><!--MD5=[9818a54db39d943ffaa85b3c1ce195d6]
class QueryParser--><g id="elem_QueryParser"><rect codeLine="26" fill="#F1F1F1" height="64.4883" id="QueryParser" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="298.5" y="280.5"/><ellipse cx="313.5" cy="296.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M315.9731,302.6431 Q315.3921,302.9419 314.7529,303.0913 Q314.1138,303.2407 313.4082,303.2407 Q310.9014,303.2407 309.5815,301.5889 Q308.2617,299.937 308.2617,296.8159 Q308.2617,293.6865 309.5815,292.0347 Q310.9014,290.3828 313.4082,290.3828 Q314.1138,290.3828 314.7612,290.5322 Q315.4087,290.6816 315.9731,290.9805 L315.9731,293.7031 Q315.3423,293.1221 314.7488,292.8523 Q314.1553,292.5825 313.5244,292.5825 Q312.1797,292.5825 311.4949,293.6492 Q310.8101,294.7158 310.8101,296.8159 Q310.8101,298.9077 311.4949,299.9744 Q312.1797,301.041 313.5244,301.041 Q314.1553,301.041 314.7488,300.7712 Q315.3423,300.5015 315.9731,299.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="327.5" y="301.791">QueryParser</text><line style="stroke:#181818;stroke-width:0.5;" x1="299.5" x2="413.5" y1="312.5" y2="312.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="299.5" x2="413.5" y1="320.5" y2="320.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="304.5" y="338.0352">Query Parse()</text></g><!--MD5=[fcbf7df592e60eddd287d4afa8f4f07d]
class QueryBuilder--><g id="elem_QueryBuilder"><rect codeLine="30" fill="#F1F1F1" height="113.9531" id="QueryBuilder" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="386" x="163.5" y="429.5"/><ellipse cx="307.75" cy="445.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M310.2231,451.6431 Q309.6421,451.9419 309.0029,452.0913 Q308.3638,452.2407 307.6582,452.2407 Q305.1514,452.2407 303.8315,450.5889 Q302.5117,448.937 302.5117,445.8159 Q302.5117,442.6865 303.8315,441.0347 Q305.1514,439.3828 307.6582,439.3828 Q308.3638,439.3828 309.0112,439.5322 Q309.6587,439.6816 310.2231,439.9805 L310.2231,442.7031 Q309.5923,442.1221 308.9988,441.8523 Q308.4053,441.5825 307.7744,441.5825 Q306.4297,441.5825 305.7449,442.6492 Q305.0601,443.7158 305.0601,445.8159 Q305.0601,447.9077 305.7449,448.9744 Q306.4297,450.041 307.7744,450.041 Q308.4053,450.041 308.9988,449.7712 Q309.5923,449.5015 310.2231,448.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="328.25" y="450.791">QueryBuilder</text><line style="stroke:#181818;stroke-width:0.5;" x1="164.5" x2="548.5" y1="461.5" y2="461.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="164.5" x2="548.5" y1="469.5" y2="469.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="169.5" y="487.0352">Query Build()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="374" x="169.5" y="503.5234">void AddDeclaration(DeclarationBlueprint declaration);</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="253" x="169.5" y="520.0117">void SetSelect(SelectBlueprint select);</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="300" x="169.5" y="536.5">void AddClauses(ClauseBlueprint[] clauses);</text></g><!--MD5=[2bbe7b846172d602b583fc0cd1098116]
class QueryEvaluator--><g id="elem_QueryEvaluator"><rect codeLine="37" fill="#F1F1F1" height="80.9766" id="QueryEvaluator" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="866" y="446"/><ellipse cx="881" cy="462" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M883.4731,468.1431 Q882.8921,468.4419 882.2529,468.5913 Q881.6138,468.7407 880.9082,468.7407 Q878.4014,468.7407 877.0815,467.0889 Q875.7617,465.437 875.7617,462.3159 Q875.7617,459.1865 877.0815,457.5347 Q878.4014,455.8828 880.9082,455.8828 Q881.6138,455.8828 882.2612,456.0322 Q882.9087,456.1816 883.4731,456.4805 L883.4731,459.2031 Q882.8423,458.6221 882.2488,458.3523 Q881.6553,458.0825 881.0244,458.0825 Q879.6797,458.0825 878.9949,459.1492 Q878.3101,460.2158 878.3101,462.3159 Q878.3101,464.4077 878.9949,465.4744 Q879.6797,466.541 881.0244,466.541 Q881.6553,466.541 882.2488,466.2712 Q882.8423,466.0015 883.4731,465.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="895" y="467.291">QueryEvaluator</text><line style="stroke:#181818;stroke-width:0.5;" x1="867" x2="1002" y1="478" y2="478"/><line style="stroke:#181818;stroke-width:0.5;" x1="867" x2="1002" y1="486" y2="486"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="872" y="503.5352">void InitContext()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="872" y="520.0234">Result Evaluate()</text></g><!--MD5=[6754354365917abf8f1a56af1b7e344c]
class Context--><g id="elem_Context"><rect codeLine="42" fill="#F1F1F1" height="80.9766" id="Context" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="246" x="584.5" y="446"/><ellipse cx="675.75" cy="462" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M678.2231,468.1431 Q677.6421,468.4419 677.0029,468.5913 Q676.3638,468.7407 675.6582,468.7407 Q673.1514,468.7407 671.8315,467.0889 Q670.5117,465.437 670.5117,462.3159 Q670.5117,459.1865 671.8315,457.5347 Q673.1514,455.8828 675.6582,455.8828 Q676.3638,455.8828 677.0112,456.0322 Q677.6587,456.1816 678.2231,456.4805 L678.2231,459.2031 Q677.5923,458.6221 676.9988,458.3523 Q676.4053,458.0825 675.7744,458.0825 Q674.4297,458.0825 673.7449,459.1492 Q673.0601,460.2158 673.0601,462.3159 Q673.0601,464.4077 673.7449,465.4744 Q674.4297,466.541 675.7744,466.541 Q676.4053,466.541 676.9988,466.2712 Q677.5923,466.0015 678.2231,465.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="696.25" y="467.291">Context</text><line style="stroke:#181818;stroke-width:0.5;" x1="585.5" x2="829.5" y1="478" y2="478"/><line style="stroke:#181818;stroke-width:0.5;" x1="585.5" x2="829.5" y1="486" y2="486"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="590.5" y="503.5352">EntitySet Get(QuerySynonym)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234" x="590.5" y="520.0234">void Set(QuerySynonym, EntitySet)</text></g><!--MD5=[ed3afe56f065d25b4329669e73deaf58]
class Database--><g id="elem_Database"><rect codeLine="47" fill="#F1F1F1" height="146.9297" id="Database" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="238" x="1081.5" y="413"/><ellipse cx="1164.75" cy="429" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1167.2231,435.1431 Q1166.6421,435.4419 1166.0029,435.5913 Q1165.3638,435.7407 1164.6582,435.7407 Q1162.1514,435.7407 1160.8315,434.0889 Q1159.5117,432.437 1159.5117,429.3159 Q1159.5117,426.1865 1160.8315,424.5347 Q1162.1514,422.8828 1164.6582,422.8828 Q1165.3638,422.8828 1166.0112,423.0322 Q1166.6587,423.1816 1167.2231,423.4805 L1167.2231,426.2031 Q1166.5923,425.6221 1165.9988,425.3523 Q1165.4053,425.0825 1164.7744,425.0825 Q1163.4297,425.0825 1162.7449,426.1492 Q1162.0601,427.2158 1162.0601,429.3159 Q1162.0601,431.4077 1162.7449,432.4744 Q1163.4297,433.541 1164.7744,433.541 Q1165.4053,433.541 1165.9988,433.2712 Q1166.5923,433.0015 1167.2231,432.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="1185.25" y="434.291">Database</text><line style="stroke:#181818;stroke-width:0.5;" x1="1082.5" x2="1318.5" y1="445" y2="445"/><line style="stroke:#181818;stroke-width:0.5;" x1="1082.5" x2="1318.5" y1="453" y2="453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="217" x="1087.5" y="470.5352">Table[] Empty(QuerySynonym[])</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="1087.5" y="487.0234">void AddTable(Table)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="1087.5" y="503.5117">void MergeTables()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1087.5" y="520">bool IsEmpty()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1087.5" y="536.4883">bool HasResults()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226" x="1087.5" y="552.9766">Table GetTable(QuerySynonym[])</text></g><!--MD5=[c0b936abb008b3271898d4186b5531e4]
class Table--><g id="elem_Table"><rect codeLine="56" fill="#F1F1F1" height="64.4883" id="Table" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="1197.5" y="620"/><ellipse cx="1221.5" cy="636" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1223.9731,642.1431 Q1223.3921,642.4419 1222.7529,642.5913 Q1222.1138,642.7407 1221.4082,642.7407 Q1218.9014,642.7407 1217.5815,641.0889 Q1216.2617,639.437 1216.2617,636.3159 Q1216.2617,633.1865 1217.5815,631.5347 Q1218.9014,629.8828 1221.4082,629.8828 Q1222.1138,629.8828 1222.7612,630.0322 Q1223.4087,630.1816 1223.9731,630.4805 L1223.9731,633.2031 Q1223.3423,632.6221 1222.7488,632.3523 Q1222.1553,632.0825 1221.5244,632.0825 Q1220.1797,632.0825 1219.4949,633.1492 Q1218.8101,634.2158 1218.8101,636.3159 Q1218.8101,638.4077 1219.4949,639.4744 Q1220.1797,640.541 1221.5244,640.541 Q1222.1553,640.541 1222.7488,640.2712 Q1223.3423,640.0015 1223.9731,639.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1237.5" y="641.291">Table</text><line style="stroke:#181818;stroke-width:0.5;" x1="1198.5" x2="1286.5" y1="652" y2="652"/><line style="stroke:#181818;stroke-width:0.5;" x1="1198.5" x2="1286.5" y1="660" y2="660"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1203.5" y="677.5352">Table Join()</text></g><!--MD5=[d645337c26f7aab50cce0dcafb851e69]
class EvaluationStrategy--><g id="elem_EvaluationStrategy"><rect codeLine="60" fill="#F1F1F1" height="64.4883" id="EvaluationStrategy" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="815.5" y="620"/><ellipse cx="838.15" cy="636" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M838.0133,631.3481 L836.8595,636.4199 L839.1754,636.4199 Z M836.5191,629.1069 L839.5157,629.1069 L842.8609,641.5 L840.4122,641.5 L839.6485,638.437 L836.3697,638.437 L835.6227,641.5 L833.1739,641.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="127" x="853.85" y="641.291">EvaluationStrategy</text><line style="stroke:#181818;stroke-width:0.5;" x1="816.5" x2="990.5" y1="652" y2="652"/><line style="stroke:#181818;stroke-width:0.5;" x1="816.5" x2="990.5" y1="660" y2="660"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="821.5" y="677.5352">Table evaluate(Context)</text></g><!--MD5=[cebef040a9d76028e20f6f54f83f66a7]
class SuchThatStrategy--><g id="elem_SuchThatStrategy"><rect codeLine="63" fill="#F1F1F1" height="48" id="SuchThatStrategy" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152" x="912.5" y="785"/><ellipse cx="927.5" cy="801" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M929.9731,807.1431 Q929.3921,807.4419 928.7529,807.5913 Q928.1138,807.7407 927.4082,807.7407 Q924.9014,807.7407 923.5815,806.0889 Q922.2617,804.437 922.2617,801.3159 Q922.2617,798.1865 923.5815,796.5347 Q924.9014,794.8828 927.4082,794.8828 Q928.1138,794.8828 928.7612,795.0322 Q929.4087,795.1816 929.9731,795.4805 L929.9731,798.2031 Q929.3423,797.6221 928.7488,797.3523 Q928.1553,797.0825 927.5244,797.0825 Q926.1797,797.0825 925.4949,798.1492 Q924.8101,799.2158 924.8101,801.3159 Q924.8101,803.4077 925.4949,804.4744 Q926.1797,805.541 927.5244,805.541 Q928.1553,805.541 928.7488,805.2712 Q929.3423,805.0015 929.9731,804.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="941.5" y="806.291">SuchThatStrategy</text><line style="stroke:#181818;stroke-width:0.5;" x1="913.5" x2="1063.5" y1="817" y2="817"/><line style="stroke:#181818;stroke-width:0.5;" x1="913.5" x2="1063.5" y1="825" y2="825"/></g><!--MD5=[b7919c95a689e90fc7d0d94883341f1e]
class PatternStrategy--><g id="elem_PatternStrategy"><rect codeLine="64" fill="#F1F1F1" height="48" id="PatternStrategy" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="587" y="785"/><ellipse cx="602" cy="801" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M604.4731,807.1431 Q603.8921,807.4419 603.2529,807.5913 Q602.6138,807.7407 601.9082,807.7407 Q599.4014,807.7407 598.0815,806.0889 Q596.7617,804.437 596.7617,801.3159 Q596.7617,798.1865 598.0815,796.5347 Q599.4014,794.8828 601.9082,794.8828 Q602.6138,794.8828 603.2612,795.0322 Q603.9087,795.1816 604.4731,795.4805 L604.4731,798.2031 Q603.8423,797.6221 603.2488,797.3523 Q602.6553,797.0825 602.0244,797.0825 Q600.6797,797.0825 599.9949,798.1492 Q599.3101,799.2158 599.3101,801.3159 Q599.3101,803.4077 599.9949,804.4744 Q600.6797,805.541 602.0244,805.541 Q602.6553,805.541 603.2488,805.2712 Q603.8423,805.0015 604.4731,804.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="616" y="806.291">PatternStrategy</text><line style="stroke:#181818;stroke-width:0.5;" x1="588" x2="723" y1="817" y2="817"/><line style="stroke:#181818;stroke-width:0.5;" x1="588" x2="723" y1="825" y2="825"/></g><!--MD5=[00cfeb3561e1dc477e3b0ea11c24e250]
class WithStrategy--><g id="elem_WithStrategy"><rect codeLine="65" fill="#F1F1F1" height="48" id="WithStrategy" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="759.5" y="785"/><ellipse cx="774.5" cy="801" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M776.9731,807.1431 Q776.3921,807.4419 775.7529,807.5913 Q775.1138,807.7407 774.4082,807.7407 Q771.9014,807.7407 770.5815,806.0889 Q769.2617,804.437 769.2617,801.3159 Q769.2617,798.1865 770.5815,796.5347 Q771.9014,794.8828 774.4082,794.8828 Q775.1138,794.8828 775.7612,795.0322 Q776.4087,795.1816 776.9731,795.4805 L776.9731,798.2031 Q776.3423,797.6221 775.7488,797.3523 Q775.1553,797.0825 774.5244,797.0825 Q773.1797,797.0825 772.4949,798.1492 Q771.8101,799.2158 771.8101,801.3159 Q771.8101,803.4077 772.4949,804.4744 Q773.1797,805.541 774.5244,805.541 Q775.1553,805.541 775.7488,805.2712 Q776.3423,805.0015 776.9731,804.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="788.5" y="806.291">WithStrategy</text><line style="stroke:#181818;stroke-width:0.5;" x1="760.5" x2="876.5" y1="817" y2="817"/><line style="stroke:#181818;stroke-width:0.5;" x1="760.5" x2="876.5" y1="825" y2="825"/></g><!--MD5=[43433a0add73826027fc8dcc63015db8]
class ResultProjector--><g id="elem_ResultProjector"><rect codeLine="67" fill="#F1F1F1" height="64.4883" id="ResultProjector" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="1026.5" y="620"/><ellipse cx="1041.5" cy="636" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1043.9731,642.1431 Q1043.3921,642.4419 1042.7529,642.5913 Q1042.1138,642.7407 1041.4082,642.7407 Q1038.9014,642.7407 1037.5815,641.0889 Q1036.2617,639.437 1036.2617,636.3159 Q1036.2617,633.1865 1037.5815,631.5347 Q1038.9014,629.8828 1041.4082,629.8828 Q1042.1138,629.8828 1042.7612,630.0322 Q1043.4087,630.1816 1043.9731,630.4805 L1043.9731,633.2031 Q1043.3423,632.6221 1042.7488,632.3523 Q1042.1553,632.0825 1041.5244,632.0825 Q1040.1797,632.0825 1039.4949,633.1492 Q1038.8101,634.2158 1038.8101,636.3159 Q1038.8101,638.4077 1039.4949,639.4744 Q1040.1797,640.541 1041.5244,640.541 Q1042.1553,640.541 1042.7488,640.2712 Q1043.3423,640.0015 1043.9731,639.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1055.5" y="641.291">ResultProjector</text><line style="stroke:#181818;stroke-width:0.5;" x1="1027.5" x2="1161.5" y1="652" y2="652"/><line style="stroke:#181818;stroke-width:0.5;" x1="1027.5" x2="1161.5" y1="660" y2="660"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1032.5" y="677.5352">Result Project()</text></g><!--MD5=[4aaf50ddcdba48d6ac770d01b630e82c]
class QueryOptimiser--><g id="elem_QueryOptimiser"><rect codeLine="71" fill="#F1F1F1" height="64.4883" id="QueryOptimiser" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="321" x="459" y="620"/><ellipse cx="561.25" cy="636" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M563.7231,642.1431 Q563.1421,642.4419 562.5029,642.5913 Q561.8638,642.7407 561.1582,642.7407 Q558.6514,642.7407 557.3315,641.0889 Q556.0117,639.437 556.0117,636.3159 Q556.0117,633.1865 557.3315,631.5347 Q558.6514,629.8828 561.1582,629.8828 Q561.8638,629.8828 562.5112,630.0322 Q563.1587,630.1816 563.7231,630.4805 L563.7231,633.2031 Q563.0923,632.6221 562.4988,632.3523 Q561.9053,632.0825 561.2744,632.0825 Q559.9297,632.0825 559.2449,633.1492 Q558.5601,634.2158 558.5601,636.3159 Q558.5601,638.4077 559.2449,639.4744 Q559.9297,640.541 561.2744,640.541 Q561.9053,640.541 562.4988,640.2712 Q563.0923,640.0015 563.7231,639.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="581.75" y="641.291">QueryOptimiser</text><line style="stroke:#181818;stroke-width:0.5;" x1="460" x2="779" y1="652" y2="652"/><line style="stroke:#181818;stroke-width:0.5;" x1="460" x2="779" y1="660" y2="660"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="309" x="465" y="677.5352">Query Optimise(Query, Context, IPKBQuerier)</text></g><!--MD5=[2741598bdf59a7d7e0d5c97658fd3022]
class Result--><g id="elem_Result"><rect codeLine="75" fill="#F1F1F1" height="130.4414" id="Result" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182" x="1099.5" y="744"/><ellipse cx="1165.25" cy="760" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1167.7231,766.1431 Q1167.1421,766.4419 1166.5029,766.5913 Q1165.8638,766.7407 1165.1582,766.7407 Q1162.6514,766.7407 1161.3315,765.0889 Q1160.0117,763.437 1160.0117,760.3159 Q1160.0117,757.1865 1161.3315,755.5347 Q1162.6514,753.8828 1165.1582,753.8828 Q1165.8638,753.8828 1166.5112,754.0322 Q1167.1587,754.1816 1167.7231,754.4805 L1167.7231,757.2031 Q1167.0923,756.6221 1166.4988,756.3523 Q1165.9053,756.0825 1165.2744,756.0825 Q1163.9297,756.0825 1163.2449,757.1492 Q1162.5601,758.2158 1162.5601,760.3159 Q1162.5601,762.4077 1163.2449,763.4744 Q1163.9297,764.541 1165.2744,764.541 Q1165.9053,764.541 1166.4988,764.2712 Q1167.0923,764.0015 1167.7231,763.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="1185.75" y="765.291">Result</text><line style="stroke:#181818;stroke-width:0.5;" x1="1100.5" x2="1280.5" y1="776" y2="776"/><line style="stroke:#181818;stroke-width:0.5;" x1="1100.5" x2="1280.5" y1="784" y2="784"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1105.5" y="801.5352">Result Empty()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1105.5" y="818.0234">Result True()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="1105.5" y="834.5117">Result False()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="1105.5" y="851">Set&lt;String&gt; GetResults()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="1105.5" y="867.4883">String ToString()</text></g><!--MD5=[3856f6c812e91a5d8d80be3a4907ff07]
class PKB--><g id="elem_PKB"><rect fill="#F1F1F1" height="48" id="PKB" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57" x="512" y="7"/><ellipse cx="527" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M529.4731,29.1431 Q528.8921,29.4419 528.2529,29.5913 Q527.6138,29.7407 526.9082,29.7407 Q524.4014,29.7407 523.0815,28.0889 Q521.7617,26.437 521.7617,23.3159 Q521.7617,20.1865 523.0815,18.5347 Q524.4014,16.8828 526.9082,16.8828 Q527.6138,16.8828 528.2612,17.0322 Q528.9087,17.1816 529.4731,17.4805 L529.4731,20.2031 Q528.8423,19.6221 528.2488,19.3523 Q527.6553,19.0825 527.0244,19.0825 Q525.6797,19.0825 524.9949,20.1492 Q524.3101,21.2158 524.3101,23.3159 Q524.3101,25.4077 524.9949,26.4744 Q525.6797,27.541 527.0244,27.541 Q527.6553,27.541 528.2488,27.2712 Q528.8423,27.0015 529.4731,26.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25" x="541" y="28.291">PKB</text><line style="stroke:#181818;stroke-width:0.5;" x1="513" x2="568" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="513" x2="568" y1="47" y2="47"/></g><!--MD5=[91221848cc6fc2b51471cfb300e81a0a]
class Query--><g id="elem_Query"><rect fill="#F1F1F1" height="48" id="Query" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="320" y="628"/><ellipse cx="335" cy="644" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M337.4731,650.1431 Q336.8921,650.4419 336.2529,650.5913 Q335.6138,650.7407 334.9082,650.7407 Q332.4014,650.7407 331.0815,649.0889 Q329.7617,647.437 329.7617,644.3159 Q329.7617,641.1865 331.0815,639.5347 Q332.4014,637.8828 334.9082,637.8828 Q335.6138,637.8828 336.2612,638.0322 Q336.9087,638.1816 337.4731,638.4805 L337.4731,641.2031 Q336.8423,640.6221 336.2488,640.3523 Q335.6553,640.0825 335.0244,640.0825 Q333.6797,640.0825 332.9949,641.1492 Q332.3101,642.2158 332.3101,644.3159 Q332.3101,646.4077 332.9949,647.4744 Q333.6797,648.541 335.0244,648.541 Q335.6553,648.541 336.2488,648.2712 Q336.8423,648.0015 337.4731,647.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="349" y="649.291">Query</text><line style="stroke:#181818;stroke-width:0.5;" x1="321" x2="392" y1="660" y2="660"/><line style="stroke:#181818;stroke-width:0.5;" x1="321" x2="392" y1="668" y2="668"/></g><!--MD5=[f1c69934703c99cb1c03eb3e707e723c]
link PKB to IPKBQuerier--><g id="link_PKB_IPKBQuerier"><path codeLine="83" d="M540.5,55.33 C540.5,71.75 540.5,94.32 540.5,114.51 " fill="none" id="PKB-IPKBQuerier" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[f591a4787482af332b99ed190ff58f30]
link IPKBQuerier to QPS--><g id="link_IPKBQuerier_QPS"><path codeLine="85" d="M540.5,212.23 C540.5,226.69 540.5,242.67 540.5,257.51 " fill="none" id="IPKBQuerier-to-QPS" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="540.5,270.36,544.5,264.36,540.5,258.36,536.5,264.36,540.5,270.36" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[91cdd38d7963b2f9b97bdae9e81837eb]
link QueryParser to QPS--><g id="link_QueryParser_QPS"><path codeLine="86" d="M414.72,312.5 C421.35,312.5 427.97,312.5 434.6,312.5 " fill="none" id="QueryParser-to-QPS" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="447.6,312.5,441.6,308.5,435.6,312.5,441.6,316.5,447.6,312.5" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[7a220c7e6a9a16cc3cb71605abb18f5e]
link QueryLexer to QPS--><g id="link_QueryLexer_QPS"><path codeLine="87" d="M179.81,288.12 C211.26,271.45 255.85,250.85 298,242 C348.89,231.32 364.69,228.84 415,242 C433.68,246.89 452.52,255.25 469.72,264.54 " fill="none" id="QueryLexer-to-QPS" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="480.91,270.86,477.657,264.4243,470.4652,264.9518,473.7182,271.3875,480.91,270.86" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[f57cc0ee0a9d9a6d8fe346b1833422ec]
reverse link QPS to QueryEvaluator--><g id="link_QPS_QueryEvaluator"><path codeLine="88" d="M645.57,336.62 C707.12,352.76 785,377.78 848.5,413 C864.55,421.9 880.41,434.04 894.05,445.84 " fill="none" id="QPS-backto-QueryEvaluator" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="633.36,333.49,638.1737,338.8592,644.9813,336.481,640.1676,331.1117,633.36,333.49" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9048adf73a921d148b14a53b5e48655f]
reverse link Lexer to QueryLexer--><g id="link_Lexer_QueryLexer"><path codeLine="91" d="M137.5,225.56 C137.5,247.67 137.5,271.32 137.5,288.2 " fill="none" id="Lexer-backto-QueryLexer" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="130.5,225.79,137.5,205.79,144.5,225.79,130.5,225.79" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[d4cefe52f9ea865f3c18fbec72830325]
reverse link QueryLexer to Token--><g id="link_QueryLexer_Token"><path codeLine="92" d="M122.69,349.9 C111.27,377.94 95.51,416.69 83.75,445.58 " fill="none" id="QueryLexer-backto-Token" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="127.49,338.1,121.5237,342.1501,122.9675,349.2152,128.9338,345.1651,127.49,338.1" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[8e2923c25dccdde5776a438998236453]
reverse link QueryParser to QueryBuilder--><g id="link_QueryParser_QueryBuilder"><path codeLine="93" d="M356.5,359.09 C356.5,380.6 356.5,406.47 356.5,429.19 " fill="none" id="QueryParser-backto-QueryBuilder" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="356.5,346.16,352.5,352.16,356.5,358.16,360.5,352.16,356.5,346.16" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[628c8a969295233d1789dee51e9d71b8]
link Context to QueryEvaluator--><g id="link_Context_QueryEvaluator"><path codeLine="95" d="M830.75,486.5 C837.56,486.5 844.37,486.5 851.18,486.5 " fill="none" id="Context-to-QueryEvaluator" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="864.09,486.5,858.09,482.5,852.09,486.5,858.09,490.5,864.09,486.5" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[65ed75aff96949439345b22622f39a4f]
reverse link QueryEvaluator to Database--><g id="link_QueryEvaluator_Database"><path codeLine="96" d="M1017.62,486.5 C1038.79,486.5 1059.96,486.5 1081.12,486.5 " fill="none" id="QueryEvaluator-backto-Database" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1004.85,486.5,1010.85,490.5,1016.85,486.5,1010.85,482.5,1004.85,486.5" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[011c0bdd17d94d8ed0aa72015c6cc1b0]
reverse link QueryEvaluator to QueryOptimiser--><g id="link_QueryEvaluator_QueryOptimiser"><path codeLine="97" d="M881.71,536.5 C871.16,544.98 859.82,553.22 848.5,560 C808.12,584.17 760.16,604.37 718.59,619.55 " fill="none" id="QueryEvaluator-backto-QueryOptimiser" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="891.65,528.25,884.4791,529.0102,882.4227,535.9218,889.5936,535.1617,891.65,528.25" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[eee8b090c7a54c4af3622fef920ef6cc]
reverse link QueryEvaluator to EvaluationStrategy--><g id="link_QueryEvaluator_EvaluationStrategy"><path codeLine="98" d="M924.22,541.74 C919.32,567.59 913.63,597.58 909.45,619.6 " fill="none" id="QueryEvaluator-backto-EvaluationStrategy" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="926.63,528.98,921.5851,534.1326,924.401,540.7712,929.4459,535.6186,926.63,528.98" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[427e4a07fe1aa2be09d48155aa64d0c3]
reverse link QueryBuilder to Query--><g id="link_QueryBuilder_Query"><path codeLine="99" d="M356.5,558.26 C356.5,583.27 356.5,609.68 356.5,627.89 " fill="none" id="QueryBuilder-backto-Query" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="356.5,545.28,352.5,551.28,356.5,557.28,360.5,551.28,356.5,545.28" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a4df17fa8b78e06ce2bdda8f380bbcf5]
reverse link QueryEvaluator to ResultProjector--><g id="link_QueryEvaluator_ResultProjector"><path codeLine="101" d="M983.74,537.81 C1009.85,564.5 1041.12,596.46 1063.77,619.6 " fill="none" id="QueryEvaluator-backto-ResultProjector" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="974.7,528.58,976.0372,535.666,983.0924,537.1571,981.7553,530.0711,974.7,528.58" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[71f71a3938947c6103e4c2bdce598a75]
reverse link Database to Table--><g id="link_Database_Table"><path codeLine="103" d="M1222.72,573.99 C1226.95,590.45 1231.11,606.65 1234.51,619.91 " fill="none" id="Database-backto-Table" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1219.54,561.63,1217.1563,568.4357,1222.5218,573.2536,1224.9054,566.4479,1219.54,561.63" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[b3d38f9d42a1e9243a7465856e1b6f3f]
reverse link ResultProjector to Result--><g id="link_ResultProjector_Result"><path codeLine="105" d="M1121.52,696.62 C1130.57,711.24 1140.86,727.85 1150.68,743.71 " fill="none" id="ResultProjector-backto-Result" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1114.72,685.65,1114.4761,692.857,1121.0349,695.854,1121.2788,688.647,1114.72,685.65" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[5349d9ce0a3e0f0ec33ce6d23950d99c]
reverse link EvaluationStrategy to SuchThatStrategy--><g id="link_EvaluationStrategy_SuchThatStrategy"><path codeLine="107" d="M931.02,703.18 C946.06,730.6 963.97,763.26 975.75,784.75 " fill="none" id="EvaluationStrategy-backto-SuchThatStrategy" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="924.91,706.6,921.43,685.69,937.18,699.86,924.91,706.6" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[8f65963b960bbc4af3b6e2772b1d1ef2]
reverse link EvaluationStrategy to PatternStrategy--><g id="link_EvaluationStrategy_PatternStrategy"><path codeLine="108" d="M825.22,694.77 C798.56,709.64 768.85,726.95 742.5,744 C722.98,756.63 701.96,772.04 685.47,784.58 " fill="none" id="EvaluationStrategy-backto-PatternStrategy" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="821.78,688.68,842.67,685.14,828.54,700.93,821.78,688.68" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9537087f75f3f62edf5947ed134e7f9b]
reverse link EvaluationStrategy to WithStrategy--><g id="link_EvaluationStrategy_WithStrategy"><path codeLine="109" d="M875.98,703.18 C860.94,730.6 843.03,763.26 831.25,784.75 " fill="none" id="EvaluationStrategy-backto-WithStrategy" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="869.82,699.86,885.57,685.69,882.09,706.6,869.82,699.86" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[e9b7b996d44c4922d37778bf14677eca]
@startuml

interface IPKBQuerier {
    Entity[] getEntities(EntityType)
    Entity[] getByRelationship(RsType, Entity)
    Entity[] getEntitiesByString(String)
}

class QPS {
    void SetPKB(IPKBQuerier)
	Result EvaluateQuery()
}

abstract class  "Token" {
    TokenType type
    String value
}

class Lexer {
	Token GetNext()
    Token[] Lex()
}

class QueryLexer {
}

class QueryParser {
	Query Parse()
}

class QueryBuilder {
	Query Build()
	void AddDeclaration(DeclarationBlueprint declaration);
    void SetSelect(SelectBlueprint select);
    void AddClauses(ClauseBlueprint[] clauses);
}

class QueryEvaluator {
    void InitContext()
	Result Evaluate()
}

class Context {
    EntitySet Get(QuerySynonym)
    void Set(QuerySynonym, EntitySet)
}

class Database {
    Table[] Empty(QuerySynonym[])
    void AddTable(Table)
    void MergeTables()
    bool IsEmpty()
    bool HasResults()
    Table GetTable(QuerySynonym[])
}

class Table {
	Table Join()
}

abstract class "EvaluationStrategy" {
    Table evaluate(Context)
}
class SuchThatStrategy
class PatternStrategy
class WithStrategy

class ResultProjector {
    Result Project()
}

class QueryOptimiser {
    Query Optimise(Query, Context, IPKBQuerier)
}

class Result {
    Result Empty()
    Result True()
    Result False()
    Set<String> GetResults()
    String ToString()
}

PKB -down- IPKBQuerier

QPS *-up- IPKBQuerier
QPS *-left- QueryParser
QPS *-left- QueryLexer
QPS *-down- QueryEvaluator


Lexer <|-down- QueryLexer
QueryLexer *-down- Token
QueryParser *-down- QueryBuilder

QueryEvaluator *-left- Context
QueryEvaluator *-right- Database
QueryEvaluator *-down- QueryOptimiser
QueryEvaluator *-down- EvaluationStrategy
QueryBuilder o-down- Query

QueryEvaluator *-down- ResultProjector

Database o-down- Table

ResultProjector o-down- Result

SuchThatStrategy -up-|> EvaluationStrategy
PatternStrategy -up-|> EvaluationStrategy
WithStrategy -up-|> EvaluationStrategy

@enduml

PlantUML version 1.2022.12(Mon Oct 24 02:12:26 SGT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: US-ASCII
Language: en
Country: SG
--></g></svg>