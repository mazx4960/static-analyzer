<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="881px" preserveAspectRatio="none" style="width:1455px;height:881px;background:#FFFFFF;" version="1.1" viewBox="0 0 1455 881" width="1455px" zoomAndPan="magnify"><defs/><g><!--MD5=[4fa2d5ce616373be846ec9cee428e8de]
class IPKBQuerier--><g id="elem_IPKBQuerier"><rect codeLine="2" fill="#F1F1F1" height="97.4648" id="IPKBQuerier" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="291" x="456" y="115"/><ellipse cx="556.75" cy="131" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M553.1777,127.2651 L553.1777,125.1069 L560.5571,125.1069 L560.5571,127.2651 L558.0918,127.2651 L558.0918,135.3418 L560.5571,135.3418 L560.5571,137.5 L553.1777,137.5 L553.1777,135.3418 L555.6431,135.3418 L555.6431,127.2651 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="81" x="577.25" y="136.291">IPKBQuerier</text><line style="stroke:#181818;stroke-width:0.5;" x1="457" x2="746" y1="147" y2="147"/><line style="stroke:#181818;stroke-width:0.5;" x1="457" x2="746" y1="155" y2="155"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205" x="462" y="172.5352">Entity[] getEntities(EntityType)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279" x="462" y="189.0234">Entity[] getByRelationship(RsType, Entity)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231" x="462" y="205.5117">Entity[] getEntitiesByString(String)</text></g><!--MD5=[ae088927e5dda082715dd85725f1773d]
class QPS--><g id="elem_QPS"><rect codeLine="8" fill="#F1F1F1" height="80.9766" id="QPS" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182" x="510.5" y="272"/><ellipse cx="583.75" cy="288" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M586.2231,294.1431 Q585.6421,294.4419 585.0029,294.5913 Q584.3638,294.7407 583.6582,294.7407 Q581.1514,294.7407 579.8315,293.0889 Q578.5117,291.437 578.5117,288.3159 Q578.5117,285.1865 579.8315,283.5347 Q581.1514,281.8828 583.6582,281.8828 Q584.3638,281.8828 585.0112,282.0322 Q585.6587,282.1816 586.2231,282.4805 L586.2231,285.2031 Q585.5923,284.6221 584.9988,284.3523 Q584.4053,284.0825 583.7744,284.0825 Q582.4297,284.0825 581.7449,285.1492 Q581.0601,286.2158 581.0601,288.3159 Q581.0601,290.4077 581.7449,291.4744 Q582.4297,292.541 583.7744,292.541 Q584.4053,292.541 584.9988,292.2712 Q585.5923,292.0015 586.2231,291.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="27" x="604.25" y="293.291">QPS</text><line style="stroke:#181818;stroke-width:0.5;" x1="511.5" x2="691.5" y1="304" y2="304"/><line style="stroke:#181818;stroke-width:0.5;" x1="511.5" x2="691.5" y1="312" y2="312"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="516.5" y="329.5352">void SetPKB(IPKBQuerier)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="154" x="516.5" y="346.0234">Result EvaluateQuery()</text></g><!--MD5=[d8c8cfd5ca149094f5b67f9f607a5ec7]
class Token--><g id="elem_Token"><rect codeLine="13" fill="#F1F1F1" height="80.9766" id="Token" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121" x="7" y="446"/><ellipse cx="42.7" cy="462" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M42.5633,457.3481 L41.4095,462.4199 L43.7254,462.4199 Z M41.0691,455.1069 L44.0657,455.1069 L47.4109,467.5 L44.9622,467.5 L44.1985,464.437 L40.9197,464.437 L40.1727,467.5 L37.7239,467.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="43" x="61.3" y="467.291">Token</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="127" y1="478" y2="478"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109" x="13" y="495.5352">TokenType type</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81" x="13" y="512.0234">String value</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="127" y1="518.9766" y2="518.9766"/></g><!--MD5=[8ff175ab6a1849416c5f8a6c27b711a2]
class Lexer--><g id="elem_Lexer"><rect codeLine="18" fill="#F1F1F1" height="80.9766" id="Lexer" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="124" x="139.5" y="123"/><ellipse cx="178.8" cy="139" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M181.2731,145.1431 Q180.6921,145.4419 180.0529,145.5913 Q179.4138,145.7407 178.7082,145.7407 Q176.2014,145.7407 174.8815,144.0889 Q173.5617,142.437 173.5617,139.3159 Q173.5617,136.1865 174.8815,134.5347 Q176.2014,132.8828 178.7082,132.8828 Q179.4138,132.8828 180.0612,133.0322 Q180.7087,133.1816 181.2731,133.4805 L181.2731,136.2031 Q180.6423,135.6221 180.0488,135.3523 Q179.4553,135.0825 178.8244,135.0825 Q177.4797,135.0825 176.7949,136.1492 Q176.1101,137.2158 176.1101,139.3159 Q176.1101,141.4077 176.7949,142.4744 Q177.4797,143.541 178.8244,143.541 Q179.4553,143.541 180.0488,143.2712 Q180.6423,143.0015 181.2731,142.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="198.2" y="144.291">Lexer</text><line style="stroke:#181818;stroke-width:0.5;" x1="140.5" x2="262.5" y1="155" y2="155"/><line style="stroke:#181818;stroke-width:0.5;" x1="140.5" x2="262.5" y1="163" y2="163"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112" x="145.5" y="180.5352">Token GetNext()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="145.5" y="197.0234">Token[] Lex()</text></g><!--MD5=[9d130455d6e3cc0bf117bee5d8e4fd40]
class QueryLexer--><g id="elem_QueryLexer"><rect codeLine="23" fill="#F1F1F1" height="48" id="QueryLexer" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="111" x="146" y="288.5"/><ellipse cx="161" cy="304.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M163.4731,310.6431 Q162.8921,310.9419 162.2529,311.0913 Q161.6138,311.2407 160.9082,311.2407 Q158.4014,311.2407 157.0815,309.5889 Q155.7617,307.937 155.7617,304.8159 Q155.7617,301.6865 157.0815,300.0347 Q158.4014,298.3828 160.9082,298.3828 Q161.6138,298.3828 162.2612,298.5322 Q162.9087,298.6816 163.4731,298.9805 L163.4731,301.7031 Q162.8423,301.1221 162.2488,300.8523 Q161.6553,300.5825 161.0244,300.5825 Q159.6797,300.5825 158.9949,301.6492 Q158.3101,302.7158 158.3101,304.8159 Q158.3101,306.9077 158.9949,307.9744 Q159.6797,309.041 161.0244,309.041 Q161.6553,309.041 162.2488,308.7712 Q162.8423,308.5015 163.4731,307.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="175" y="309.791">QueryLexer</text><line style="stroke:#181818;stroke-width:0.5;" x1="147" x2="256" y1="320.5" y2="320.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="147" x2="256" y1="328.5" y2="328.5"/></g><!--MD5=[9818a54db39d943ffaa85b3c1ce195d6]
class QueryParser--><g id="elem_QueryParser"><rect codeLine="26" fill="#F1F1F1" height="64.4883" id="QueryParser" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="116" x="359.5" y="280.5"/><ellipse cx="374.5" cy="296.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M376.9731,302.6431 Q376.3921,302.9419 375.7529,303.0913 Q375.1138,303.2407 374.4082,303.2407 Q371.9014,303.2407 370.5815,301.5889 Q369.2617,299.937 369.2617,296.8159 Q369.2617,293.6865 370.5815,292.0347 Q371.9014,290.3828 374.4082,290.3828 Q375.1138,290.3828 375.7612,290.5322 Q376.4087,290.6816 376.9731,290.9805 L376.9731,293.7031 Q376.3423,293.1221 375.7488,292.8523 Q375.1553,292.5825 374.5244,292.5825 Q373.1797,292.5825 372.4949,293.6492 Q371.8101,294.7158 371.8101,296.8159 Q371.8101,298.9077 372.4949,299.9744 Q373.1797,301.041 374.5244,301.041 Q375.1553,301.041 375.7488,300.7712 Q376.3423,300.5015 376.9731,299.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84" x="388.5" y="301.791">QueryParser</text><line style="stroke:#181818;stroke-width:0.5;" x1="360.5" x2="474.5" y1="312.5" y2="312.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="360.5" x2="474.5" y1="320.5" y2="320.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="365.5" y="338.0352">Query Parse()</text></g><!--MD5=[fcbf7df592e60eddd287d4afa8f4f07d]
class QueryBuilder--><g id="elem_QueryBuilder"><rect codeLine="30" fill="#F1F1F1" height="113.9531" id="QueryBuilder" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="386" x="292.5" y="429.5"/><ellipse cx="436.75" cy="445.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M439.2231,451.6431 Q438.6421,451.9419 438.0029,452.0913 Q437.3638,452.2407 436.6582,452.2407 Q434.1514,452.2407 432.8315,450.5889 Q431.5117,448.937 431.5117,445.8159 Q431.5117,442.6865 432.8315,441.0347 Q434.1514,439.3828 436.6582,439.3828 Q437.3638,439.3828 438.0112,439.5322 Q438.6587,439.6816 439.2231,439.9805 L439.2231,442.7031 Q438.5923,442.1221 437.9988,441.8523 Q437.4053,441.5825 436.7744,441.5825 Q435.4297,441.5825 434.7449,442.6492 Q434.0601,443.7158 434.0601,445.8159 Q434.0601,447.9077 434.7449,448.9744 Q435.4297,450.041 436.7744,450.041 Q437.4053,450.041 437.9988,449.7712 Q438.5923,449.5015 439.2231,448.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="457.25" y="450.791">QueryBuilder</text><line style="stroke:#181818;stroke-width:0.5;" x1="293.5" x2="677.5" y1="461.5" y2="461.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="293.5" x2="677.5" y1="469.5" y2="469.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89" x="298.5" y="487.0352">Query Build()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="374" x="298.5" y="503.5234">void AddDeclaration(DeclarationBlueprint declaration);</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="253" x="298.5" y="520.0117">void SetSelect(SelectBlueprint select);</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="300" x="298.5" y="536.5">void AddClauses(ClauseBlueprint[] clauses);</text></g><!--MD5=[2bbe7b846172d602b583fc0cd1098116]
class QueryEvaluator--><g id="elem_QueryEvaluator"><rect codeLine="37" fill="#F1F1F1" height="80.9766" id="QueryEvaluator" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="995" y="446"/><ellipse cx="1010" cy="462" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1012.4731,468.1431 Q1011.8921,468.4419 1011.2529,468.5913 Q1010.6138,468.7407 1009.9082,468.7407 Q1007.4014,468.7407 1006.0815,467.0889 Q1004.7617,465.437 1004.7617,462.3159 Q1004.7617,459.1865 1006.0815,457.5347 Q1007.4014,455.8828 1009.9082,455.8828 Q1010.6138,455.8828 1011.2612,456.0322 Q1011.9087,456.1816 1012.4731,456.4805 L1012.4731,459.2031 Q1011.8423,458.6221 1011.2488,458.3523 Q1010.6553,458.0825 1010.0244,458.0825 Q1008.6797,458.0825 1007.9949,459.1492 Q1007.3101,460.2158 1007.3101,462.3159 Q1007.3101,464.4077 1007.9949,465.4744 Q1008.6797,466.541 1010.0244,466.541 Q1010.6553,466.541 1011.2488,466.2712 Q1011.8423,466.0015 1012.4731,465.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1024" y="467.291">QueryEvaluator</text><line style="stroke:#181818;stroke-width:0.5;" x1="996" x2="1131" y1="478" y2="478"/><line style="stroke:#181818;stroke-width:0.5;" x1="996" x2="1131" y1="486" y2="486"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1001" y="503.5352">void InitContext()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="1001" y="520.0234">Result Evaluate()</text></g><!--MD5=[6754354365917abf8f1a56af1b7e344c]
class Context--><g id="elem_Context"><rect codeLine="42" fill="#F1F1F1" height="80.9766" id="Context" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="246" x="713.5" y="446"/><ellipse cx="804.75" cy="462" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M807.2231,468.1431 Q806.6421,468.4419 806.0029,468.5913 Q805.3638,468.7407 804.6582,468.7407 Q802.1514,468.7407 800.8315,467.0889 Q799.5117,465.437 799.5117,462.3159 Q799.5117,459.1865 800.8315,457.5347 Q802.1514,455.8828 804.6582,455.8828 Q805.3638,455.8828 806.0112,456.0322 Q806.6587,456.1816 807.2231,456.4805 L807.2231,459.2031 Q806.5923,458.6221 805.9988,458.3523 Q805.4053,458.0825 804.7744,458.0825 Q803.4297,458.0825 802.7449,459.1492 Q802.0601,460.2158 802.0601,462.3159 Q802.0601,464.4077 802.7449,465.4744 Q803.4297,466.541 804.7744,466.541 Q805.4053,466.541 805.9988,466.2712 Q806.5923,466.0015 807.2231,465.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="825.25" y="467.291">Context</text><line style="stroke:#181818;stroke-width:0.5;" x1="714.5" x2="958.5" y1="478" y2="478"/><line style="stroke:#181818;stroke-width:0.5;" x1="714.5" x2="958.5" y1="486" y2="486"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199" x="719.5" y="503.5352">EntitySet Get(QuerySynonym)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234" x="719.5" y="520.0234">void Set(QuerySynonym, EntitySet)</text></g><!--MD5=[ed3afe56f065d25b4329669e73deaf58]
class Database--><g id="elem_Database"><rect codeLine="47" fill="#F1F1F1" height="146.9297" id="Database" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="238" x="1210.5" y="413"/><ellipse cx="1293.75" cy="429" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1296.2231,435.1431 Q1295.6421,435.4419 1295.0029,435.5913 Q1294.3638,435.7407 1293.6582,435.7407 Q1291.1514,435.7407 1289.8315,434.0889 Q1288.5117,432.437 1288.5117,429.3159 Q1288.5117,426.1865 1289.8315,424.5347 Q1291.1514,422.8828 1293.6582,422.8828 Q1294.3638,422.8828 1295.0112,423.0322 Q1295.6587,423.1816 1296.2231,423.4805 L1296.2231,426.2031 Q1295.5923,425.6221 1294.9988,425.3523 Q1294.4053,425.0825 1293.7744,425.0825 Q1292.4297,425.0825 1291.7449,426.1492 Q1291.0601,427.2158 1291.0601,429.3159 Q1291.0601,431.4077 1291.7449,432.4744 Q1292.4297,433.541 1293.7744,433.541 Q1294.4053,433.541 1294.9988,433.2712 Q1295.5923,433.0015 1296.2231,432.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="1314.25" y="434.291">Database</text><line style="stroke:#181818;stroke-width:0.5;" x1="1211.5" x2="1447.5" y1="445" y2="445"/><line style="stroke:#181818;stroke-width:0.5;" x1="1211.5" x2="1447.5" y1="453" y2="453"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="217" x="1216.5" y="470.5352">Table[] Empty(QuerySynonym[])</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147" x="1216.5" y="487.0234">void AddTable(Table)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="1216.5" y="503.5117">void MergeTables()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1216.5" y="520">bool IsEmpty()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="1216.5" y="536.4883">bool HasResults()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226" x="1216.5" y="552.9766">Table GetTable(QuerySynonym[])</text></g><!--MD5=[c0b936abb008b3271898d4186b5531e4]
class Table--><g id="elem_Table"><rect codeLine="56" fill="#F1F1F1" height="64.4883" id="Table" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="90" x="1326.5" y="620"/><ellipse cx="1350.5" cy="636" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1352.9731,642.1431 Q1352.3921,642.4419 1351.7529,642.5913 Q1351.1138,642.7407 1350.4082,642.7407 Q1347.9014,642.7407 1346.5815,641.0889 Q1345.2617,639.437 1345.2617,636.3159 Q1345.2617,633.1865 1346.5815,631.5347 Q1347.9014,629.8828 1350.4082,629.8828 Q1351.1138,629.8828 1351.7612,630.0322 Q1352.4087,630.1816 1352.9731,630.4805 L1352.9731,633.2031 Q1352.3423,632.6221 1351.7488,632.3523 Q1351.1553,632.0825 1350.5244,632.0825 Q1349.1797,632.0825 1348.4949,633.1492 Q1347.8101,634.2158 1347.8101,636.3159 Q1347.8101,638.4077 1348.4949,639.4744 Q1349.1797,640.541 1350.5244,640.541 Q1351.1553,640.541 1351.7488,640.2712 Q1352.3423,640.0015 1352.9731,639.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38" x="1366.5" y="641.291">Table</text><line style="stroke:#181818;stroke-width:0.5;" x1="1327.5" x2="1415.5" y1="652" y2="652"/><line style="stroke:#181818;stroke-width:0.5;" x1="1327.5" x2="1415.5" y1="660" y2="660"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78" x="1332.5" y="677.5352">Table Join()</text></g><!--MD5=[d645337c26f7aab50cce0dcafb851e69]
class EvaluationStrategy--><g id="elem_EvaluationStrategy"><rect codeLine="60" fill="#F1F1F1" height="64.4883" id="EvaluationStrategy" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="176" x="944.5" y="620"/><ellipse cx="967.15" cy="636" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M967.0133,631.3481 L965.8595,636.4199 L968.1754,636.4199 Z M965.5191,629.1069 L968.5157,629.1069 L971.8609,641.5 L969.4122,641.5 L968.6485,638.437 L965.3697,638.437 L964.6227,641.5 L962.1739,641.5 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="127" x="982.85" y="641.291">EvaluationStrategy</text><line style="stroke:#181818;stroke-width:0.5;" x1="945.5" x2="1119.5" y1="652" y2="652"/><line style="stroke:#181818;stroke-width:0.5;" x1="945.5" x2="1119.5" y1="660" y2="660"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="950.5" y="677.5352">Table evaluate(Context)</text></g><!--MD5=[cebef040a9d76028e20f6f54f83f66a7]
class SuchThatStrategy--><g id="elem_SuchThatStrategy"><rect codeLine="63" fill="#F1F1F1" height="48" id="SuchThatStrategy" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="152" x="1041.5" y="785"/><ellipse cx="1056.5" cy="801" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1058.9731,807.1431 Q1058.3921,807.4419 1057.7529,807.5913 Q1057.1138,807.7407 1056.4082,807.7407 Q1053.9014,807.7407 1052.5815,806.0889 Q1051.2617,804.437 1051.2617,801.3159 Q1051.2617,798.1865 1052.5815,796.5347 Q1053.9014,794.8828 1056.4082,794.8828 Q1057.1138,794.8828 1057.7612,795.0322 Q1058.4087,795.1816 1058.9731,795.4805 L1058.9731,798.2031 Q1058.3423,797.6221 1057.7488,797.3523 Q1057.1553,797.0825 1056.5244,797.0825 Q1055.1797,797.0825 1054.4949,798.1492 Q1053.8101,799.2158 1053.8101,801.3159 Q1053.8101,803.4077 1054.4949,804.4744 Q1055.1797,805.541 1056.5244,805.541 Q1057.1553,805.541 1057.7488,805.2712 Q1058.3423,805.0015 1058.9731,804.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="1070.5" y="806.291">SuchThatStrategy</text><line style="stroke:#181818;stroke-width:0.5;" x1="1042.5" x2="1192.5" y1="817" y2="817"/><line style="stroke:#181818;stroke-width:0.5;" x1="1042.5" x2="1192.5" y1="825" y2="825"/></g><!--MD5=[b7919c95a689e90fc7d0d94883341f1e]
class PatternStrategy--><g id="elem_PatternStrategy"><rect codeLine="64" fill="#F1F1F1" height="48" id="PatternStrategy" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137" x="716" y="785"/><ellipse cx="731" cy="801" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M733.4731,807.1431 Q732.8921,807.4419 732.2529,807.5913 Q731.6138,807.7407 730.9082,807.7407 Q728.4014,807.7407 727.0815,806.0889 Q725.7617,804.437 725.7617,801.3159 Q725.7617,798.1865 727.0815,796.5347 Q728.4014,794.8828 730.9082,794.8828 Q731.6138,794.8828 732.2612,795.0322 Q732.9087,795.1816 733.4731,795.4805 L733.4731,798.2031 Q732.8423,797.6221 732.2488,797.3523 Q731.6553,797.0825 731.0244,797.0825 Q729.6797,797.0825 728.9949,798.1492 Q728.3101,799.2158 728.3101,801.3159 Q728.3101,803.4077 728.9949,804.4744 Q729.6797,805.541 731.0244,805.541 Q731.6553,805.541 732.2488,805.2712 Q732.8423,805.0015 733.4731,804.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="745" y="806.291">PatternStrategy</text><line style="stroke:#181818;stroke-width:0.5;" x1="717" x2="852" y1="817" y2="817"/><line style="stroke:#181818;stroke-width:0.5;" x1="717" x2="852" y1="825" y2="825"/></g><!--MD5=[00cfeb3561e1dc477e3b0ea11c24e250]
class WithStrategy--><g id="elem_WithStrategy"><rect codeLine="65" fill="#F1F1F1" height="48" id="WithStrategy" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="118" x="888.5" y="785"/><ellipse cx="903.5" cy="801" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M905.9731,807.1431 Q905.3921,807.4419 904.7529,807.5913 Q904.1138,807.7407 903.4082,807.7407 Q900.9014,807.7407 899.5815,806.0889 Q898.2617,804.437 898.2617,801.3159 Q898.2617,798.1865 899.5815,796.5347 Q900.9014,794.8828 903.4082,794.8828 Q904.1138,794.8828 904.7612,795.0322 Q905.4087,795.1816 905.9731,795.4805 L905.9731,798.2031 Q905.3423,797.6221 904.7488,797.3523 Q904.1553,797.0825 903.5244,797.0825 Q902.1797,797.0825 901.4949,798.1492 Q900.8101,799.2158 900.8101,801.3159 Q900.8101,803.4077 901.4949,804.4744 Q902.1797,805.541 903.5244,805.541 Q904.1553,805.541 904.7488,805.2712 Q905.3423,805.0015 905.9731,804.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="917.5" y="806.291">WithStrategy</text><line style="stroke:#181818;stroke-width:0.5;" x1="889.5" x2="1005.5" y1="817" y2="817"/><line style="stroke:#181818;stroke-width:0.5;" x1="889.5" x2="1005.5" y1="825" y2="825"/></g><!--MD5=[43433a0add73826027fc8dcc63015db8]
class ResultProjector--><g id="elem_ResultProjector"><rect codeLine="67" fill="#F1F1F1" height="64.4883" id="ResultProjector" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="1155.5" y="620"/><ellipse cx="1170.5" cy="636" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1172.9731,642.1431 Q1172.3921,642.4419 1171.7529,642.5913 Q1171.1138,642.7407 1170.4082,642.7407 Q1167.9014,642.7407 1166.5815,641.0889 Q1165.2617,639.437 1165.2617,636.3159 Q1165.2617,633.1865 1166.5815,631.5347 Q1167.9014,629.8828 1170.4082,629.8828 Q1171.1138,629.8828 1171.7612,630.0322 Q1172.4087,630.1816 1172.9731,630.4805 L1172.9731,633.2031 Q1172.3423,632.6221 1171.7488,632.3523 Q1171.1553,632.0825 1170.5244,632.0825 Q1169.1797,632.0825 1168.4949,633.1492 Q1167.8101,634.2158 1167.8101,636.3159 Q1167.8101,638.4077 1168.4949,639.4744 Q1169.1797,640.541 1170.5244,640.541 Q1171.1553,640.541 1171.7488,640.2712 Q1172.3423,640.0015 1172.9731,639.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1184.5" y="641.291">ResultProjector</text><line style="stroke:#181818;stroke-width:0.5;" x1="1156.5" x2="1290.5" y1="652" y2="652"/><line style="stroke:#181818;stroke-width:0.5;" x1="1156.5" x2="1290.5" y1="660" y2="660"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103" x="1161.5" y="677.5352">Result Project()</text></g><!--MD5=[4aaf50ddcdba48d6ac770d01b630e82c]
class QueryOptimiser--><g id="elem_QueryOptimiser"><rect codeLine="71" fill="#F1F1F1" height="64.4883" id="QueryOptimiser" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="321" x="588" y="620"/><ellipse cx="690.25" cy="636" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M692.7231,642.1431 Q692.1421,642.4419 691.5029,642.5913 Q690.8638,642.7407 690.1582,642.7407 Q687.6514,642.7407 686.3315,641.0889 Q685.0117,639.437 685.0117,636.3159 Q685.0117,633.1865 686.3315,631.5347 Q687.6514,629.8828 690.1582,629.8828 Q690.8638,629.8828 691.5112,630.0322 Q692.1587,630.1816 692.7231,630.4805 L692.7231,633.2031 Q692.0923,632.6221 691.4988,632.3523 Q690.9053,632.0825 690.2744,632.0825 Q688.9297,632.0825 688.2449,633.1492 Q687.5601,634.2158 687.5601,636.3159 Q687.5601,638.4077 688.2449,639.4744 Q688.9297,640.541 690.2744,640.541 Q690.9053,640.541 691.4988,640.2712 Q692.0923,640.0015 692.7231,639.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="108" x="710.75" y="641.291">QueryOptimiser</text><line style="stroke:#181818;stroke-width:0.5;" x1="589" x2="908" y1="652" y2="652"/><line style="stroke:#181818;stroke-width:0.5;" x1="589" x2="908" y1="660" y2="660"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="309" x="594" y="677.5352">Query Optimise(Query, Context, IPKBQuerier)</text></g><!--MD5=[2741598bdf59a7d7e0d5c97658fd3022]
class Result--><g id="elem_Result"><rect codeLine="75" fill="#F1F1F1" height="130.4414" id="Result" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182" x="1228.5" y="744"/><ellipse cx="1294.25" cy="760" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M1296.7231,766.1431 Q1296.1421,766.4419 1295.5029,766.5913 Q1294.8638,766.7407 1294.1582,766.7407 Q1291.6514,766.7407 1290.3315,765.0889 Q1289.0117,763.437 1289.0117,760.3159 Q1289.0117,757.1865 1290.3315,755.5347 Q1291.6514,753.8828 1294.1582,753.8828 Q1294.8638,753.8828 1295.5112,754.0322 Q1296.1587,754.1816 1296.7231,754.4805 L1296.7231,757.2031 Q1296.0923,756.6221 1295.4988,756.3523 Q1294.9053,756.0825 1294.2744,756.0825 Q1292.9297,756.0825 1292.2449,757.1492 Q1291.5601,758.2158 1291.5601,760.3159 Q1291.5601,762.4077 1292.2449,763.4744 Q1292.9297,764.541 1294.2744,764.541 Q1294.9053,764.541 1295.4988,764.2712 Q1296.0923,764.0015 1296.7231,763.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="1314.75" y="765.291">Result</text><line style="stroke:#181818;stroke-width:0.5;" x1="1229.5" x2="1409.5" y1="776" y2="776"/><line style="stroke:#181818;stroke-width:0.5;" x1="1229.5" x2="1409.5" y1="784" y2="784"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="1234.5" y="801.5352">Result Empty()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="1234.5" y="818.0234">Result True()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91" x="1234.5" y="834.5117">Result False()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="170" x="1234.5" y="851">Set&lt;String&gt; GetResults()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="1234.5" y="867.4883">String ToString()</text></g><!--MD5=[3856f6c812e91a5d8d80be3a4907ff07]
class PKB--><g id="elem_PKB"><rect fill="#F1F1F1" height="48" id="PKB" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="57" x="573" y="7"/><ellipse cx="588" cy="23" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M590.4731,29.1431 Q589.8921,29.4419 589.2529,29.5913 Q588.6138,29.7407 587.9082,29.7407 Q585.4014,29.7407 584.0815,28.0889 Q582.7617,26.437 582.7617,23.3159 Q582.7617,20.1865 584.0815,18.5347 Q585.4014,16.8828 587.9082,16.8828 Q588.6138,16.8828 589.2612,17.0322 Q589.9087,17.1816 590.4731,17.4805 L590.4731,20.2031 Q589.8423,19.6221 589.2488,19.3523 Q588.6553,19.0825 588.0244,19.0825 Q586.6797,19.0825 585.9949,20.1492 Q585.3101,21.2158 585.3101,23.3159 Q585.3101,25.4077 585.9949,26.4744 Q586.6797,27.541 588.0244,27.541 Q588.6553,27.541 589.2488,27.2712 Q589.8423,27.0015 590.4731,26.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="25" x="602" y="28.291">PKB</text><line style="stroke:#181818;stroke-width:0.5;" x1="574" x2="629" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="574" x2="629" y1="47" y2="47"/></g><!--MD5=[687b898a26107f91307f914974ba425d]
class Blueprint--><g id="elem_Blueprint"><rect fill="#F1F1F1" height="48" id="Blueprint" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="94" x="163.5" y="462.5"/><ellipse cx="178.5" cy="478.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M180.9731,484.6431 Q180.3921,484.9419 179.7529,485.0913 Q179.1138,485.2407 178.4082,485.2407 Q175.9014,485.2407 174.5815,483.5889 Q173.2617,481.937 173.2617,478.8159 Q173.2617,475.6865 174.5815,474.0347 Q175.9014,472.3828 178.4082,472.3828 Q179.1138,472.3828 179.7612,472.5322 Q180.4087,472.6816 180.9731,472.9805 L180.9731,475.7031 Q180.3423,475.1221 179.7488,474.8523 Q179.1553,474.5825 178.5244,474.5825 Q177.1797,474.5825 176.4949,475.6492 Q175.8101,476.7158 175.8101,478.8159 Q175.8101,480.9077 176.4949,481.9744 Q177.1797,483.041 178.5244,483.041 Q179.1553,483.041 179.7488,482.7712 Q180.3423,482.5015 180.9731,481.9204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="192.5" y="483.791">Blueprint</text><line style="stroke:#181818;stroke-width:0.5;" x1="164.5" x2="256.5" y1="494.5" y2="494.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="164.5" x2="256.5" y1="502.5" y2="502.5"/></g><!--MD5=[91221848cc6fc2b51471cfb300e81a0a]
class Query--><g id="elem_Query"><rect fill="#F1F1F1" height="48" id="Query" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="73" x="449" y="628"/><ellipse cx="464" cy="644" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M466.4731,650.1431 Q465.8921,650.4419 465.2529,650.5913 Q464.6138,650.7407 463.9082,650.7407 Q461.4014,650.7407 460.0815,649.0889 Q458.7617,647.437 458.7617,644.3159 Q458.7617,641.1865 460.0815,639.5347 Q461.4014,637.8828 463.9082,637.8828 Q464.6138,637.8828 465.2612,638.0322 Q465.9087,638.1816 466.4731,638.4805 L466.4731,641.2031 Q465.8423,640.6221 465.2488,640.3523 Q464.6553,640.0825 464.0244,640.0825 Q462.6797,640.0825 461.9949,641.1492 Q461.3101,642.2158 461.3101,644.3159 Q461.3101,646.4077 461.9949,647.4744 Q462.6797,648.541 464.0244,648.541 Q464.6553,648.541 465.2488,648.2712 Q465.8423,648.0015 466.4731,647.4204 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="41" x="478" y="649.291">Query</text><line style="stroke:#181818;stroke-width:0.5;" x1="450" x2="521" y1="660" y2="660"/><line style="stroke:#181818;stroke-width:0.5;" x1="450" x2="521" y1="668" y2="668"/></g><!--MD5=[f1c69934703c99cb1c03eb3e707e723c]
link PKB to IPKBQuerier--><g id="link_PKB_IPKBQuerier"><path codeLine="83" d="M601.5,55.33 C601.5,71.75 601.5,94.32 601.5,114.51 " fill="none" id="PKB-IPKBQuerier" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[f591a4787482af332b99ed190ff58f30]
link IPKBQuerier to QPS--><g id="link_IPKBQuerier_QPS"><path codeLine="85" d="M601.5,212.23 C601.5,226.69 601.5,242.67 601.5,257.51 " fill="none" id="IPKBQuerier-to-QPS" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="601.5,270.36,605.5,264.36,601.5,258.36,597.5,264.36,601.5,270.36" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[91cdd38d7963b2f9b97bdae9e81837eb]
link QueryParser to QPS--><g id="link_QueryParser_QPS"><path codeLine="86" d="M475.72,312.5 C482.35,312.5 488.97,312.5 495.6,312.5 " fill="none" id="QueryParser-to-QPS" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="508.6,312.5,502.6,308.5,496.6,312.5,502.6,316.5,508.6,312.5" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[7a220c7e6a9a16cc3cb71605abb18f5e]
link QueryLexer to QPS--><g id="link_QueryLexer_QPS"><path codeLine="87" d="M242.96,288.12 C273.8,271.46 317.54,250.85 359,242 C409.85,231.14 425.69,228.84 476,242 C494.68,246.89 513.52,255.25 530.72,264.54 " fill="none" id="QueryLexer-to-QPS" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="541.91,270.86,538.657,264.4243,531.4652,264.9518,534.7182,271.3875,541.91,270.86" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[f57cc0ee0a9d9a6d8fe346b1833422ec]
reverse link QPS to QueryEvaluator--><g id="link_QPS_QueryEvaluator"><path codeLine="88" d="M707.15,328.62 C785.11,342.76 892.06,368.57 977.5,413 C993.96,421.56 1010.05,433.75 1023.77,445.7 " fill="none" id="QPS-backto-QueryEvaluator" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="694.43,326.37,699.6442,331.3512,706.2477,328.4539,701.0335,323.4727,694.43,326.37" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9048adf73a921d148b14a53b5e48655f]
reverse link Lexer to QueryLexer--><g id="link_Lexer_QueryLexer"><path codeLine="91" d="M201.5,225.56 C201.5,247.67 201.5,271.32 201.5,288.2 " fill="none" id="Lexer-backto-QueryLexer" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="194.5,225.79,201.5,205.79,208.5,225.79,194.5,225.79" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[d4cefe52f9ea865f3c18fbec72830325]
reverse link QueryLexer to Token--><g id="link_QueryLexer_Token"><path codeLine="92" d="M174.63,347.99 C152.68,376.17 121.62,416.03 98.6,445.58 " fill="none" id="QueryLexer-backto-Token" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="182.5,337.89,175.6578,340.1671,175.1281,347.3587,181.9703,345.0816,182.5,337.89" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[8e2923c25dccdde5776a438998236453]
reverse link QueryParser to QueryBuilder--><g id="link_QueryParser_QueryBuilder"><path codeLine="93" d="M435.03,357.85 C443.63,379.6 454.08,406.03 463.24,429.19 " fill="none" id="QueryParser-backto-QueryBuilder" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="430.37,346.06,428.86,353.1112,434.788,357.2171,436.298,350.1659,430.37,346.06" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[e135163799fb3762c54031d0506f7c5f]
reverse link QueryParser to Blueprint--><g id="link_QueryParser_Blueprint"><path codeLine="94" d="M354.39,352.66 C328.57,369.87 299.06,391.12 274.5,413 C257.58,428.08 240.7,447.41 228.54,462.33 " fill="none" id="QueryParser-backto-Blueprint" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="365.07,345.64,357.8591,345.5917,355.041,352.2293,362.252,352.2777,365.07,345.64" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[628c8a969295233d1789dee51e9d71b8]
link Context to QueryEvaluator--><g id="link_Context_QueryEvaluator"><path codeLine="96" d="M959.75,486.5 C966.56,486.5 973.37,486.5 980.18,486.5 " fill="none" id="Context-to-QueryEvaluator" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="993.09,486.5,987.09,482.5,981.09,486.5,987.09,490.5,993.09,486.5" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[65ed75aff96949439345b22622f39a4f]
reverse link QueryEvaluator to Database--><g id="link_QueryEvaluator_Database"><path codeLine="97" d="M1146.62,486.5 C1167.79,486.5 1188.96,486.5 1210.12,486.5 " fill="none" id="QueryEvaluator-backto-Database" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1133.85,486.5,1139.85,490.5,1145.85,486.5,1139.85,482.5,1133.85,486.5" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[011c0bdd17d94d8ed0aa72015c6cc1b0]
reverse link QueryEvaluator to QueryOptimiser--><g id="link_QueryEvaluator_QueryOptimiser"><path codeLine="98" d="M1010.71,536.5 C1000.16,544.98 988.82,553.22 977.5,560 C937.12,584.17 889.16,604.37 847.59,619.55 " fill="none" id="QueryEvaluator-backto-QueryOptimiser" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1020.65,528.25,1013.4791,529.0102,1011.4227,535.9218,1018.5936,535.1617,1020.65,528.25" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[eee8b090c7a54c4af3622fef920ef6cc]
reverse link QueryEvaluator to EvaluationStrategy--><g id="link_QueryEvaluator_EvaluationStrategy"><path codeLine="99" d="M1053.22,541.74 C1048.32,567.59 1042.63,597.58 1038.45,619.6 " fill="none" id="QueryEvaluator-backto-EvaluationStrategy" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1055.63,528.98,1050.5851,534.1326,1053.401,540.7712,1058.4459,535.6186,1055.63,528.98" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[427e4a07fe1aa2be09d48155aa64d0c3]
reverse link QueryBuilder to Query--><g id="link_QueryBuilder_Query"><path codeLine="102" d="M485.5,558.26 C485.5,583.27 485.5,609.68 485.5,627.89 " fill="none" id="QueryBuilder-backto-Query" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="485.5,545.28,481.5,551.28,485.5,557.28,489.5,551.28,485.5,545.28" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[1c0448b985d0d4afe66e497d5335dfd0]
link Blueprint to QueryBuilder--><g id="link_Blueprint_QueryBuilder"><path codeLine="103" d="M257.77,486.5 C264.37,486.5 270.97,486.5 277.57,486.5 " fill="none" id="Blueprint-to-QueryBuilder" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="290.5,486.5,284.5,482.5,278.5,486.5,284.5,490.5,290.5,486.5" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a4df17fa8b78e06ce2bdda8f380bbcf5]
reverse link QueryEvaluator to ResultProjector--><g id="link_QueryEvaluator_ResultProjector"><path codeLine="105" d="M1112.74,537.81 C1138.85,564.5 1170.12,596.46 1192.77,619.6 " fill="none" id="QueryEvaluator-backto-ResultProjector" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1103.7,528.58,1105.0372,535.666,1112.0924,537.1571,1110.7553,530.0711,1103.7,528.58" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[71f71a3938947c6103e4c2bdce598a75]
reverse link Database to Table--><g id="link_Database_Table"><path codeLine="107" d="M1351.72,573.99 C1355.95,590.45 1360.11,606.65 1363.51,619.91 " fill="none" id="Database-backto-Table" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1348.54,561.63,1346.1563,568.4357,1351.5218,573.2536,1353.9054,566.4479,1348.54,561.63" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[b3d38f9d42a1e9243a7465856e1b6f3f]
reverse link ResultProjector to Result--><g id="link_ResultProjector_Result"><path codeLine="109" d="M1250.52,696.62 C1259.57,711.24 1269.86,727.85 1279.68,743.71 " fill="none" id="ResultProjector-backto-Result" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1243.72,685.65,1243.4761,692.857,1250.0349,695.854,1250.2788,688.647,1243.72,685.65" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[5349d9ce0a3e0f0ec33ce6d23950d99c]
reverse link EvaluationStrategy to SuchThatStrategy--><g id="link_EvaluationStrategy_SuchThatStrategy"><path codeLine="111" d="M1060.02,703.18 C1075.06,730.6 1092.97,763.26 1104.75,784.75 " fill="none" id="EvaluationStrategy-backto-SuchThatStrategy" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="1053.91,706.6,1050.43,685.69,1066.18,699.86,1053.91,706.6" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[8f65963b960bbc4af3b6e2772b1d1ef2]
reverse link EvaluationStrategy to PatternStrategy--><g id="link_EvaluationStrategy_PatternStrategy"><path codeLine="112" d="M954.22,694.77 C927.56,709.64 897.85,726.95 871.5,744 C851.98,756.63 830.96,772.04 814.47,784.58 " fill="none" id="EvaluationStrategy-backto-PatternStrategy" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="950.78,688.68,971.67,685.14,957.54,700.93,950.78,688.68" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[9537087f75f3f62edf5947ed134e7f9b]
reverse link EvaluationStrategy to WithStrategy--><g id="link_EvaluationStrategy_WithStrategy"><path codeLine="113" d="M1004.98,703.18 C989.94,730.6 972.03,763.26 960.25,784.75 " fill="none" id="EvaluationStrategy-backto-WithStrategy" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="998.82,699.86,1014.57,685.69,1011.09,706.6,998.82,699.86" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a0611f20bd86a1e6c678f6acb29b5468]
@startuml

interface IPKBQuerier {
    Entity[] getEntities(EntityType)
    Entity[] getByRelationship(RsType, Entity)
    Entity[] getEntitiesByString(String)
}

class QPS {
    void SetPKB(IPKBQuerier)
	Result EvaluateQuery()
}

abstract class  "Token" {
    TokenType type
    String value
}

class Lexer {
	Token GetNext()
    Token[] Lex()
}

class QueryLexer {
}

class QueryParser {
	Query Parse()
}

class QueryBuilder {
	Query Build()
	void AddDeclaration(DeclarationBlueprint declaration);
    void SetSelect(SelectBlueprint select);
    void AddClauses(ClauseBlueprint[] clauses);
}

class QueryEvaluator {
    void InitContext()
	Result Evaluate()
}

class Context {
    EntitySet Get(QuerySynonym)
    void Set(QuerySynonym, EntitySet)
}

class Database {
    Table[] Empty(QuerySynonym[])
    void AddTable(Table)
    void MergeTables()
    bool IsEmpty()
    bool HasResults()
    Table GetTable(QuerySynonym[])
}

class Table {
	Table Join()
}

abstract class "EvaluationStrategy" {
    Table evaluate(Context)
}
class SuchThatStrategy
class PatternStrategy
class WithStrategy

class ResultProjector {
    Result Project()
}

class QueryOptimiser {
    Query Optimise(Query, Context, IPKBQuerier)
}

class Result {
    Result Empty()
    Result True()
    Result False()
    Set<String> GetResults()
    String ToString()
}

PKB -down- IPKBQuerier

QPS *-up- IPKBQuerier
QPS *-left- QueryParser
QPS *-left- QueryLexer
QPS *-down- QueryEvaluator


Lexer <|-down- QueryLexer
QueryLexer *-down- Token
QueryParser *-down- QueryBuilder
QueryParser *-down- Blueprint

QueryEvaluator *-left- Context
QueryEvaluator *-right- Database
QueryEvaluator *-down- QueryOptimiser
QueryEvaluator *-down- EvaluationStrategy


QueryBuilder o-down- Query
QueryBuilder o-left- Blueprint

QueryEvaluator *-down- ResultProjector

Database o-down- Table

ResultProjector o-down- Result

SuchThatStrategy -up-|> EvaluationStrategy
PatternStrategy -up-|> EvaluationStrategy
WithStrategy -up-|> EvaluationStrategy

@enduml

PlantUML version 1.2022.12(Mon Oct 24 02:12:26 SGT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: US-ASCII
Language: en
Country: SG
--></g></svg>